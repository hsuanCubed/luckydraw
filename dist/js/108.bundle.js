"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[108,325],{3325:(t,i,a)=>{a.r(i),a.d(i,{default:()=>d});var e=function(){var t=this,i=t._self._c;return t.candidateInfo?i("div",{staticClass:"candidate-box",class:{focus:Array.isArray(t.focusCandidateSN)&&t.focusCandidateSN.includes(t.candidateInfo.sn)},attrs:{"data-index":t.candidateIndex}},[i("div",{staticClass:"candidate-wrapper",style:{width:t.config.boxWidth+"px",height:t.config.boxHeight+"px",margin:`${t.config.boxMV}px ${t.config.boxMH}px`,background:t.boxColor}},[i("div",{staticClass:"candidate-name",style:{"font-size":t.config.titleSize+"px"}},[t._v("\n            "+t._s(t.candidateInfo.name)+"\n        ")]),t._v(" "),i("div",{staticClass:"candidate-pos",style:{"font-size":t.config.subtitleSize+"px"}},[t._v("\n            "+t._s(t.candidateInfo.pos)+"\n        ")])])]):t._e()};e._withStripped=!0;var n=a(1582);const s={components:{},filters:{},props:{candidateIndex:{type:[Number],default:null},candidateInfo:{type:[Object],default:null}},data:()=>({}),computed:{...(0,n.L8)(["focusCandidateSN","haveAwardCandidateSN","config"]),boxColor(){const t=this;let i=t.config.defaultColor;return t.haveAwardCandidateSN.includes(t.candidateInfo.sn)?i=t.config.doneColor:Array.isArray(t.focusCandidateSN)&&t.focusCandidateSN.includes(t.candidateInfo.sn)&&(i=t.config.focusColor),i}},watch:{},created(){},mounted(){},updated(){},destroyed(){},methods:{...(0,n.i0)({}),...(0,n.PY)({})}},d=(0,a(2881).A)(s,e,[],!1,null,"5a12c253",null).exports},2108:(t,i,a)=>{a.r(i),a.d(i,{default:()=>o});var e=function(){var t=this,i=t._self._c;return i("div",{staticClass:"slot-machine-container"},[i("div",{staticClass:"slot-viewport",style:{height:t.candidateBoxHeight+"px",width:t.candidateBoxWidth+"px"}},[i("div",{ref:"reel",staticClass:"slot-reel",style:t.reelStyle},t._l(t.reelCandidates,(function(t,a){return i("CandidateBox",{key:t.sn+"-"+a,attrs:{"candidate-info":t,"candidate-index":a}})})),1)])])};e._withStripped=!0;var n=a(1582),s=a(1551);const d={components:{CandidateBox:a(3325).default},data:()=>({reelCandidates:[],isRolling:!1,scrollDistance:0,transitionDuration:0}),computed:{...(0,n.L8)(["candidateList","candidateMapping","config","focusCandidateSN","haveAwardCandidateSN"]),candidateBoxHeight(){return this.config.boxHeight+2*this.config.boxMV},candidateBoxWidth(){return this.config.boxWidth+2*this.config.boxMH},reelStyle(){return{transform:`translateY(${this.scrollDistance}px)`,transition:`transform ${this.transitionDuration}ms cubic-bezier(0.25, 0.46, 0.45, 0.94)`}},availableSNList(){return this.candidateMapping,this.candidateList.filter((t=>!t.del&&!this.haveAwardCandidateSN.includes(t.sn))).map((t=>t.sn))}},watch:{focusCandidateSN(t){if(Array.isArray(t)&&t.length>0&&!this.isRolling){const i=t[0];this.startRolling(i)}}},created(){},mounted(){this.initReel()},methods:{...(0,n.PY)(["triggerModal"]),initReel(){const t=[];if(0!==this.availableSNList.length){for(let i=0;i<30;i++){const i=s.Yj.randArray(this.availableSNList);t.push(this.candidateMapping[i])}this.reelCandidates=t}else this.reelCandidates=[]},startRolling(t){this.isRolling=!0,this.transitionDuration=0,this.scrollDistance=0,this.initReel();const i=this.candidateMapping[t];this.reelCandidates.push(i,i,i);const a=this.candidateBoxHeight,e=(this.reelCandidates.length-2+3*this.reelCandidates.length)*a;this.transitionDuration=4e3,this.$nextTick((()=>{this.scrollDistance=-e})),setTimeout((()=>{this.stopRolling(t)}),this.transitionDuration)},stopRolling(t){this.isRolling=!1,this.transitionDuration=0;const i=this.candidateMapping[t];this.reelCandidates=[i],this.scrollDistance=0,this.triggerModal({key:"Lucky"})}}},o=(0,a(2881).A)(d,e,[],!1,null,"d38df0c8",null).exports}}]);
//# sourceMappingURL=108.bundle.js.map?v=ac2eb99d5e3bb141e9b3