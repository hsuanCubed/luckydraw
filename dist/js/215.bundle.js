"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[215],{5215:(t,e,i)=>{i.r(e),i.d(e,{default:()=>o});var a=function(){var t=this,e=t._self._c;return e("div",{ref:"box",staticClass:"modal lucky-modal",attrs:{id:"LuckyBox",tabindex:"-1",role:"dialog","data-backdrop":"static","data-keyboard":"false"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"text-center p-4 lucky-info"},[e("h4",[t._v("恭喜中獎 (共 "+t._s(t.winnerCandidateList.length)+" 人)")]),t._v(" "),t.winnerCandidateList.length>0?[e("div",{staticClass:"winner-list-container d-flex flex-wrap justify-content-center"},t._l(t.winnerCandidateList,(function(t,i){return e("candidate-box",{key:t.sn,attrs:{"candidate-index":i,"candidate-info":t}})})),1)]:[t._v("\n                        無法對應\n                    ")],t._v(" "),e("h5",{staticClass:"mt-4"},[t._v("\n                        中獎獎項\n                    ")]),t._v(" "),e("div",{staticClass:"form-group"},[e("div",{staticClass:"form-control text-center",domProps:{textContent:t._s(t.focusPrizeInfo.title)}})])],2)]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("div",{staticClass:"col-6 text-left"},[e("button",{staticClass:"btn btn-secondary cancel",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.cancel}},[t._v("\n                        取消\n                    ")])]),t._v(" "),e("div",{staticClass:"col-6 text-right"},[e("button",{staticClass:"btn btn-primary save",attrs:{type:"button"},on:{click:t.save}},[t._v("\n                        確定\n                    ")])])])])])])};a._withStripped=!0;var n=i(1551),s=i(1582),d=i(4651);const c={components:{CandidateBox:()=>i.e(325).then(i.bind(i,3325))},filters:{},props:{},data:()=>({award:""}),computed:{...(0,s.L8)(["triggerOpenLucky","focusPrizeSN","focusCandidateSN","prizeList","candidateMapping","prizeMapping"]),winnerCandidateList(){const t=this.focusCandidateSN;return Array.isArray(t)&&0!==t.length?t.map((t=>this.candidateMapping[t])).filter((t=>t)):[]},focusPrizeInfo(){return this.prizeMapping[this.focusPrizeSN]||!1}},watch:{triggerOpenLucky:{handler(){d(this.$refs.box).modal("show")}}},created(){},mounted(){const t=this;d(t.$refs.box).bind("shown.bs.modal",(()=>{t.setFavicon("award"),n.Xe.mixpanel("LuckyOpen_click",{candidate_list:t.winnerCandidateList,prize:t.focusPrizeInfo}),n.Xe.gtag("event","LuckyOpen_click",{candidate_list:t.winnerCandidateList,prize:t.focusPrizeInfo})})),d(t.$refs.box).bind("hidden.bs.modal",(()=>{t.setFavicon("default"),n.Xe.mixpanel("LuckyClose_click"),n.Xe.gtag("event","LuckyClose_click")})),d(t.$refs.box).modal("show")},updated(){},destroyed(){},methods:{...(0,s.i0)({}),...(0,s.PY)({setFavicon:"setFavicon",setFocusCandidateBindPrize:"setFocusCandidateBindPrize"}),save(){const t=this,e={prize_sn:t.focusPrizeSN,candidate_sn_list:t.focusCandidateSN};n.Xe.mixpanel("LuckyConfirm_click",{candidate_list:t.winnerCandidateList,prize:t.focusPrizeInfo}),n.Xe.gtag("event","LuckyConfirm_click",{candidate_list:t.winnerCandidateList,prize:t.focusPrizeInfo}),t.setFocusCandidateBindPrize(e),d(t.$refs.box).modal("hide")},cancel(){const t=this;n.Xe.mixpanel("LuckyCancel_click",{candidate_list:t.winnerCandidateList,prize:t.focusPrizeInfo}),n.Xe.gtag("event","LuckyCancel_click",{candidate_list:t.winnerCandidateList,prize:t.focusPrizeInfo})}}},o=(0,i(2881).A)(c,a,[function(){var t=this._self._c;return t("div",{staticClass:"modal-header"},[t("h5",{staticClass:"modal-title"},[t("i",{staticClass:"fas fa-vote-yea"}),this._v("\n                    恭喜中獎\n                ")])])}],!1,null,"a1ffe008",null).exports}}]);
//# sourceMappingURL=215.bundle.js.map?v=7e13e65e321a18ce8a11