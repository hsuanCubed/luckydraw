{"version":3,"file":"652.bundle.js?v=4c789365a851000487d4","mappings":"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","sources":["webpack:///./components/LuckyBox/main.vue","webpack:///components/LuckyBox/main.vue","webpack:///./components/LuckyBox/main.vue?91f2","webpack:///./components/LuckyBox/main.vue?6824"],"sourcesContent":["var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"div\",\n    {\n      ref: \"box\",\n      staticClass: \"modal lucky-modal\",\n      attrs: {\n        id: \"LuckyBox\",\n        tabindex: \"-1\",\n        role: \"dialog\",\n        \"data-backdrop\": \"static\",\n        \"data-keyboard\": \"false\",\n      },\n    },\n    [\n      _c(\"div\", { staticClass: \"modal-dialog\", attrs: { role: \"document\" } }, [\n        _c(\"div\", { staticClass: \"modal-content\" }, [\n          _vm._m(0),\n          _vm._v(\" \"),\n          _c(\"div\", { staticClass: \"modal-body\" }, [\n            _c(\n              \"div\",\n              { staticClass: \"text-center p-4 lucky-info\" },\n              [\n                _c(\"h4\", [_vm._v(\"恭喜中獎\")]),\n                _vm._v(\" \"),\n                _vm.focusCandidateInfo\n                  ? [\n                      _c(\"candidate-box\", {\n                        key: _vm.focusCandidateInfo.sn,\n                        attrs: {\n                          \"candidate-index\": 0,\n                          \"candidate-info\": _vm.focusCandidateInfo,\n                        },\n                      }),\n                    ]\n                  : [\n                      _vm._v(\n                        \"\\n                        無法對應\\n                    \"\n                      ),\n                    ],\n                _vm._v(\" \"),\n                _c(\"h5\", { staticClass: \"mt-4\" }, [\n                  _vm._v(\n                    \"\\n                        中獎獎項\\n                    \"\n                  ),\n                ]),\n                _vm._v(\" \"),\n                _c(\"div\", { staticClass: \"form-group\" }, [\n                  _c(\"div\", {\n                    staticClass: \"form-control text-center\",\n                    domProps: { textContent: _vm._s(_vm.focusPrizeInfo.title) },\n                  }),\n                ]),\n              ],\n              2\n            ),\n          ]),\n          _vm._v(\" \"),\n          _c(\"div\", { staticClass: \"modal-footer\" }, [\n            _c(\"div\", { staticClass: \"col-6 text-left\" }, [\n              _c(\n                \"button\",\n                {\n                  staticClass: \"btn btn-secondary cancel\",\n                  attrs: { type: \"button\", \"data-dismiss\": \"modal\" },\n                  on: { click: _vm.cancel },\n                },\n                [_vm._v(\"\\n                        取消\\n                    \")]\n              ),\n            ]),\n            _vm._v(\" \"),\n            _c(\"div\", { staticClass: \"col-6 text-right\" }, [\n              _c(\n                \"button\",\n                {\n                  staticClass: \"btn btn-primary save\",\n                  attrs: { type: \"button\" },\n                  on: { click: _vm.save },\n                },\n                [_vm._v(\"\\n                        確定\\n                    \")]\n              ),\n            ]),\n          ]),\n        ]),\n      ]),\n    ]\n  )\n}\nvar staticRenderFns = [\n  function () {\n    var _vm = this,\n      _c = _vm._self._c\n    return _c(\"div\", { staticClass: \"modal-header\" }, [\n      _c(\"h5\", { staticClass: \"modal-title\" }, [\n        _c(\"i\", { staticClass: \"fas fa-vote-yea\" }),\n        _vm._v(\"\\n                    恭喜中獎\\n                \"),\n      ]),\n    ])\n  },\n]\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template>\r\n    <div id=\"LuckyBox\" ref=\"box\" class=\"modal lucky-modal\"\r\n        tabindex=\"-1\"\r\n        role=\"dialog\"\r\n        data-backdrop=\"static\"\r\n        data-keyboard=\"false\"\r\n    >\r\n        <div class=\"modal-dialog\" role=\"document\">\r\n            <div class=\"modal-content\">\r\n                <div class=\"modal-header\">\r\n                    <h5 class=\"modal-title\">\r\n                        <i class=\"fas fa-vote-yea\"></i>\r\n                        恭喜中獎\r\n                    </h5>\r\n                </div>\r\n                <div class=\"modal-body\">\r\n                    <div class=\"text-center p-4 lucky-info\">\r\n                        <h4>恭喜中獎</h4>\r\n                        <template v-if=\"focusCandidateInfo\">\r\n                            <candidate-box\r\n                                :key=\"focusCandidateInfo.sn\"\r\n                                :candidate-index=\"0\"\r\n                                :candidate-info=\"focusCandidateInfo\"\r\n                            ></candidate-box>\r\n                        </template>\r\n                        <template v-else>\r\n                            無法對應\r\n                        </template>\r\n\r\n                        <h5 class=\"mt-4\">\r\n                            中獎獎項\r\n                        </h5>\r\n                        <div class=\"form-group\">\r\n                            <div class=\"form-control text-center\" v-text=\"focusPrizeInfo.title\"></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"modal-footer\">\r\n                    <div class=\"col-6 text-left\">\r\n                        <button type=\"button\" class=\"btn btn-secondary cancel\" data-dismiss=\"modal\"\r\n                            @click=\"cancel\"\r\n                        >\r\n                            取消\r\n                        </button>\r\n                    </div>\r\n                    <div class=\"col-6 text-right\">\r\n                        <button type=\"button\" class=\"btn btn-primary save\" @click=\"save\">\r\n                            確定\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { trackJS } from 'lib/common/util';\r\nimport { mapActions, mapMutations, mapGetters } from 'vuex';\r\n\r\n// import $ from 'jquery';\r\n// import 'bootstrap';\r\n\r\n// import 'app';\r\n// import { string, jsVars, popup, trackJS, localStorage, ppPanel } from 'lib/common/util';\r\n\r\nexport default {\r\n    components: {\r\n        CandidateBox: () => import('components/CandidateBox/main.vue'),\r\n    },\r\n    filters: {},\r\n    props: {},\r\n    data(){\r\n        return {\r\n            award: '',\r\n        };\r\n    },\r\n    computed: {\r\n        ...mapGetters([\r\n            'triggerOpenLucky',\r\n            'focusPrizeSN',\r\n            'focusCandidateSN',\r\n            'prizeList',\r\n\r\n            'candidateMapping',\r\n            'prizeMapping',\r\n        ]),\r\n        focusCandidateInfo(){\r\n            return this.candidateMapping[this.focusCandidateSN] || false;\r\n        },\r\n        focusPrizeInfo(){\r\n            return this.prizeMapping[this.focusPrizeSN] || false;\r\n        },\r\n    },\r\n    watch: {\r\n        triggerOpenLucky: {\r\n            handler(){\r\n                const that = this;\r\n                $(that.$refs.box).modal('show');\r\n            },\r\n        },\r\n    },\r\n    created(){},\r\n    mounted(){\r\n        const that = this;\r\n        $(that.$refs.box).bind('shown.bs.modal', () => {\r\n            /**\r\n             * 得獎 icon\r\n             */\r\n            that.setFavicon('award');\r\n            trackJS.mixpanel('LuckyOpen_click', { candidate: that.focusCandidateInfo, prize: that.focusPrizeInfo });\r\n            trackJS.gtag('event', 'LuckyOpen_click', { candidate: that.focusCandidateInfo, prize: that.focusPrizeInfo });\r\n        });\r\n        $(that.$refs.box).bind('hidden.bs.modal', () => {\r\n            /**\r\n             * default icon\r\n             */\r\n            that.setFavicon('default');\r\n            trackJS.mixpanel('LuckyClose_click');\r\n            trackJS.gtag('event', 'LuckyClose_click');\r\n        });\r\n        $(that.$refs.box).modal('show');\r\n    },\r\n    updated(){},\r\n    destroyed(){},\r\n    methods: {\r\n        ...mapActions({}),\r\n        ...mapMutations({\r\n            setFavicon: 'setFavicon',\r\n            setFocusCandidateBindPrize: 'setFocusCandidateBindPrize',\r\n        }),\r\n        save(){\r\n            const that = this;\r\n            const params = {\r\n                prize_sn: that.focusPrizeSN,\r\n                candidate_sn: that.focusCandidateSN,\r\n            };\r\n            trackJS.mixpanel('LuckyConfirm_click', { candidate: that.focusCandidateInfo, prize: that.focusPrizeInfo });\r\n            trackJS.gtag('event', 'LuckyConfirm_click', { candidate: that.focusCandidateInfo, prize: that.focusPrizeInfo });\r\n            that.setFocusCandidateBindPrize(params);\r\n            $(that.$refs.box).modal('hide');\r\n        },\r\n        cancel(){\r\n            const that = this;\r\n            trackJS.mixpanel('LuckyCancel_click', { candidate: that.focusCandidateInfo, prize: that.focusPrizeInfo });\r\n            trackJS.gtag('event', 'LuckyCancel_click', { candidate: that.focusCandidateInfo, prize: that.focusPrizeInfo });\r\n        },\r\n    },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n</style>","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./main.vue?vue&type=template&id=381313cc&scoped=true\"\nimport script from \"./main.vue?vue&type=script&lang=js\"\nexport * from \"./main.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"381313cc\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","ref","staticClass","attrs","id","tabindex","role","_m","_v","focusCandidateInfo","key","sn","domProps","textContent","_s","focusPrizeInfo","title","type","on","click","cancel","save","_withStripped","components","CandidateBox","filters","props","data","award","computed","mapGetters","candidateMapping","focusCandidateSN","prizeMapping","focusPrizeSN","watch","triggerOpenLucky","handler","$","$refs","box","modal","created","mounted","that","bind","setFavicon","trackJS","mixpanel","candidate","prize","gtag","updated","destroyed","methods","mapActions","mapMutations","setFocusCandidateBindPrize","params","prize_sn","candidate_sn"],"sourceRoot":""}