{"version":3,"file":"924.bundle.js?v=bbe9758e910b654b2b4b","mappings":"iHAAA,IAAIA,EAAS,WACX,IAAIC,EAAMC,KACRC,EAAKF,EAAIG,MAAMD,GACjB,OAAOA,EACL,MACA,CACEE,IAAK,MACLC,YAAa,QACbC,MAAO,CAAEC,GAAI,eAAgBC,SAAU,KAAMC,KAAM,WAErD,CACEP,EAAG,MAAO,CAAEG,YAAa,eAAgBC,MAAO,CAAEG,KAAM,aAAgB,CACtEP,EAAG,MAAO,CAAEG,YAAa,iBAAmB,CAC1CH,EAAG,MAAO,CAAEG,YAAa,gBAAkB,CACzCH,EAAG,KAAM,CAAEG,YAAa,eAAiB,CACvCH,EAAG,IAAK,CAAEG,YAAa,iBACvBL,EAAIU,GACF,+BACEV,EAAIW,GAAGX,EAAIY,kBAAkBC,KAC7B,MACAb,EAAIW,GAAGX,EAAIY,kBAAkBE,QAC7B,yBAGNd,EAAIU,GAAG,KACPV,EAAIe,GAAG,KAETf,EAAIU,GAAG,KACPR,EACE,MACA,CAAEG,YAAa,cACf,CACEH,EACE,YACA,CACEI,MAAO,CAAEU,OAAQ,YACjBC,GAAI,CAAEC,OAAQlB,EAAImB,cAClBC,MAAO,CACLC,MAAOrB,EAAIsB,eACXC,SAAU,SAAUC,GAClBxB,EAAIsB,eAAiBE,CACvB,EACAC,WAAY,mBAGhB,CACEvB,EACE,mBACA,CACEF,EAAI0B,GAAG1B,EAAIsB,gBAAgB,SAAUK,GACnC,MAAO,EACa,IAAlBA,EAAUC,IACN,CACI5B,EAAI6B,eACN7B,EAAI6B,cAAcC,WAChBH,EAAUG,SACR5B,EACE,MACA,CACE6B,IAAKJ,EAAUG,SACfzB,YAAa,oBAEf,CACEH,EACE,MACA,CACEG,YACE,8CAEJ,CACEH,EACE,OACA,CACEG,YAAa,mBACbC,MAAO,CAAEC,GAAI,iBAEf,CACEL,EAAG,IAAK,CACNG,YAAa,oBAMvBL,EAAIU,GAAG,KACPR,EAAG,QAAS,CACV8B,WAAY,CACV,CACEC,KAAM,QACNC,QAAS,UACTb,MAAOrB,EAAI6B,cAAcM,MACzBV,WAAY,wBAGhBpB,YAAa,eACbC,MAAO,CACL8B,KAAM,OACNC,YAAa,UAEfC,SAAU,CACRjB,MAAOrB,EAAI6B,cAAcM,OAE3BlB,GAAI,CACFsB,MAAO,SAAUC,GACXA,EAAOC,OAAOC,WAElB1C,EAAI2C,KACF3C,EAAI6B,cACJ,QACAW,EAAOC,OAAOpB,MAElB,KAGJrB,EAAIU,GAAG,KACPR,EAAG,QAAS,CACV8B,WAAY,CACV,CACEC,KAAM,QACNC,QAAS,iBACTb,MAAOrB,EAAI6B,cAAcf,OACzBW,WACE,uBACFmB,UAAW,CAAEC,QAAQ,KAGzBxC,YAAa,eACbC,MAAO,CACL8B,KAAM,SACNC,YAAa,MACbS,IAAK,IACLC,KAAM,KAERT,SAAU,CACRjB,MAAOrB,EAAI6B,cAAcf,QAE3BG,GAAI,CACFsB,MAAO,SAAUC,GACXA,EAAOC,OAAOC,WAElB1C,EAAI2C,KACF3C,EAAI6B,cACJ,SACA7B,EAAIgD,GAAGR,EAAOC,OAAOpB,OAEzB,EACA4B,KAAM,SAAUT,GACd,OAAOxC,EAAIkD,cACb,KAGJlD,EAAIU,GAAG,KACPR,EAAG,QAAS,CACV8B,WAAY,CACV,CACEC,KAAM,QACNC,QAAS,iBACTb,MACErB,EAAI6B,cAAcsB,UACpB1B,WACE,0BACFmB,UAAW,CAAEC,QAAQ,KAGzBxC,YAAa,eACbC,MAAO,CACL8B,KAAM,SACNC,YAAa,QACbS,IAAK,IACLC,KAAM,KAERT,SAAU,CACRjB,MAAOrB,EAAI6B,cAAcsB,WAE3BlC,GAAI,CACFsB,MAAO,SAAUC,GACXA,EAAOC,OAAOC,WAElB1C,EAAI2C,KACF3C,EAAI6B,cACJ,YACA7B,EAAIgD,GAAGR,EAAOC,OAAOpB,OAEzB,EACA4B,KAAM,SAAUT,GACd,OAAOxC,EAAIkD,cACb,KAGJlD,EAAIU,GAAG,KACPR,EACE,MACA,CAAEG,YAAa,sBACf,CACEH,EACE,OACA,CACEG,YACE,+BACF+C,YAAa,CACXC,OAAQ,WAEVpC,GAAI,CACFqC,MAAOtD,EAAIuD,mBAGf,CACErD,EAAG,IAAK,CACNG,YAAa,sBAQ3BH,EACE,MACA,CACE6B,IAAKJ,EAAUG,SACfzB,YACE,mCAEJ,CACEH,EACE,MACA,CACEG,YACE,8CAEJ,CACEH,EACE,OACA,CACEG,YAAa,mBACbC,MAAO,CAAEC,GAAI,iBAEf,CACEL,EAAG,IAAK,CACNG,YAAa,oBAMvBL,EAAIU,GAAG,KACPR,EACE,MACA,CAAEG,YAAa,gBACf,CACEL,EAAIU,GACF,6CACEV,EAAIW,GAAGgB,EAAUQ,OACjB,MACAnC,EAAIW,GAAGgB,EAAUb,QACjB,SACAd,EAAIW,GACFgB,EAAUwB,WAAa,GAEzB,8CAIRnD,EAAIU,GAAG,KACPR,EACE,MACA,CAAEG,YAAa,sBACf,CACEH,EACE,OACA,CACEG,YAAa,mBACb+C,YAAa,CACXC,OAAQ,WAEVpC,GAAI,CACFqC,MAAO,SAAUd,GACf,OAAOxC,EAAIwD,cACT7B,EAEJ,IAGJ,CACEzB,EAAG,IAAK,CACNG,YAAa,oBAMvBL,EAAIU,GAAG,KACPR,EACE,MACA,CAAEG,YAAa,sBACf,CACEH,EACE,OACA,CACEG,YAAa,mBACb+C,YAAa,CACXC,OAAQ,WAEVpC,GAAI,CACFqC,MAAO,SAAUd,GACf,OAAOxC,EAAIyD,YACT9B,EAEJ,IAGJ,CACEzB,EAAG,IAAK,CACNG,YACE,4BAStBL,EAAI0D,KAEZ,KAEF,IAGJ,GAEF1D,EAAIU,GAAG,KACPV,EAAI2D,UAAUC,OAAS,EAAI,CAAC1D,EAAG,OAASF,EAAI0D,KAC5C1D,EAAIU,GAAG,KACNV,EAAI6D,WAoBD,CACE3D,EACE,MACA,CACEG,YAAa,mBACbC,MAAO,CAAEC,GAAI,kBAEf,CACEL,EAAG,QAAS,CACV8B,WAAY,CACV,CACEC,KAAM,QACNC,QAAS,UACTb,MAAOrB,EAAI8D,SAAS3B,MACpBV,WAAY,mBAGhBpB,YAAa,eACbC,MAAO,CACL2B,KAAM,QACNG,KAAM,OACNC,YAAa,WAEfC,SAAU,CAAEjB,MAAOrB,EAAI8D,SAAS3B,OAChClB,GAAI,CACFsB,MAAO,SAAUC,GACXA,EAAOC,OAAOC,WAClB1C,EAAI2C,KACF3C,EAAI8D,SACJ,QACAtB,EAAOC,OAAOpB,MAElB,KAGJrB,EAAIU,GAAG,KACPR,EAAG,QAAS,CACV8B,WAAY,CACV,CACEC,KAAM,QACNC,QAAS,iBACTb,MAAOrB,EAAI8D,SAAShD,OACpBW,WAAY,kBACZmB,UAAW,CAAEC,QAAQ,KAGzBxC,YAAa,eACbC,MAAO,CACL2B,KAAM,SACNG,KAAM,SACNC,YAAa,MACbS,IAAK,IACLC,KAAM,KAERT,SAAU,CAAEjB,MAAOrB,EAAI8D,SAAShD,QAChCG,GAAI,CACFsB,MAAO,SAAUC,GACXA,EAAOC,OAAOC,WAClB1C,EAAI2C,KACF3C,EAAI8D,SACJ,SACA9D,EAAIgD,GAAGR,EAAOC,OAAOpB,OAEzB,EACA4B,KAAM,SAAUT,GACd,OAAOxC,EAAIkD,cACb,KAGJlD,EAAIU,GAAG,KACPR,EAAG,QAAS,CACV8B,WAAY,CACV,CACEC,KAAM,QACNC,QAAS,iBACTb,MAAOrB,EAAI8D,SAASX,UACpB1B,WAAY,qBACZmB,UAAW,CAAEC,QAAQ,KAGzBxC,YAAa,eACbC,MAAO,CACL2B,KAAM,YACNG,KAAM,SACNC,YAAa,QACbS,IAAK,IACLC,KAAM,KAERT,SAAU,CAAEjB,MAAOrB,EAAI8D,SAASX,WAChClC,GAAI,CACFsB,MAAO,SAAUC,GACXA,EAAOC,OAAOC,WAClB1C,EAAI2C,KACF3C,EAAI8D,SACJ,YACA9D,EAAIgD,GAAGR,EAAOC,OAAOpB,OAEzB,EACA4B,KAAM,SAAUT,GACd,OAAOxC,EAAIkD,cACb,KAGJlD,EAAIU,GAAG,KACPR,EAAG,MAAO,CAAEG,YAAa,sBAAwB,CAC/CH,EACE,OACA,CACEG,YAAa,mBACb+C,YAAa,CAAEC,OAAQ,WACvBpC,GAAI,CAAEqC,MAAOtD,EAAI+D,kBAEnB,CAAC7D,EAAG,IAAK,CAAEG,YAAa,uBAnIlC,CACEH,EACE,SACA,CACEG,YAAa,yBACbC,MAAO,CAAEC,GAAI,WAAY6B,KAAM,UAC/BnB,GAAI,CACFqC,MAAO,SAAUd,GACf,OAAOxC,EAAIgE,cAAa,EAC1B,IAGJ,CACEhE,EAAIU,GACF,4DA4Hd,QAMZ,EAmBAX,EAAOkE,eAAgB,E,qDCtXvB,MC7HgL,ED6HhL,CACAC,WAAA,CACAC,UAAAA,KAEAC,QAAA,GACAC,MAAA,GACAC,KAAAA,KACA,CACAT,YAAA,EACAC,SAAA,CACA3B,MAAA,GACArB,OAAA,EACAqC,UAAA,GAEA7B,eAAA,GACAO,cAAA,OAGA0C,SAAA,KACAC,EAAAA,EAAAA,IAAA,CACA,uBACA,cAEA5D,iBAAAA,GACA,IAAA6D,EAAA,EACAC,EAAA,EAOA,OANA,KAAApD,eAAAqD,SAAAC,KACA,IAAAA,EAAAhD,MACA6C,GAAA,EACAC,GAAAE,EAAA9D,OACA,IAEA,CAAAD,IAAA4D,EAAA3D,OAAA4D,EACA,GAEAG,MAAA,CACAC,qBAAA,CACAC,OAAAA,GACA,KAAAD,qBACAE,EAAA,KAAAC,MAAAC,KAAAC,MAAA,QAEAH,EAAA,KAAAC,MAAAC,KAAAC,MAAA,OAEA,GAEA7D,eAAA,CACA8D,MAAA,EACAL,OAAAA,GACA,MAAAM,EAAA,KACA1B,EAAA2B,KAAAC,UAAAF,EAAA1B,WACArC,EAAAgE,KAAAC,UAAAF,EAAA/D,gBACAqC,IAAArC,GACA+D,EAAAG,cAAAF,KAAAG,MAAAnE,GAEA,IAGAoE,OAAAA,GAAA,EACAC,OAAAA,GACA,MAAAN,EAAA,KAEAL,EAAA,KAAAC,MAAAC,KAAAU,KAAA,uBACAP,EAAA/D,eAAAgE,KAAAG,MAAAH,KAAAC,UAAAF,EAAA1B,YACA0B,EAAAxB,YAAA,EACAwB,EAAAvB,SAAA,CACA3B,MAAA,GACArB,OAAA,EACAqC,UAAA,GAGA,IAAAkC,EAAA/D,eAAAsC,SACAyB,EAAAxB,YAAA,GAEAwB,EAAAxD,cAAA,KAEAgE,EAAAA,GAAAC,SAAA,uBACAD,EAAAA,GAAAE,KAAA,kCAGAf,EAAAK,EAAAJ,MAAAC,KAAAU,KAAA,wBACAC,EAAAA,GAAAC,SAAA,wBACAD,EAAAA,GAAAE,KAAA,mCAGA,KAAAjB,qBACAE,EAAA,KAAAC,MAAAC,KAAAC,MAAA,QAEAH,EAAA,KAAAC,MAAAC,KAAAC,MAAA,OAEA,EACAa,OAAAA,GAAA,EACAC,SAAAA,GAAA,EACAC,QAAA,KACAC,EAAAA,EAAAA,IAAA,QACAC,EAAAA,EAAAA,IAAA,CACAZ,cAAA,kBAEAxB,YAAAA,GACA,KACAF,SAAA,CACA3B,MAAA,GACArB,OAAA,EACAqC,UAAA,GAJA,KAMAU,YAAA,CACA,EACAE,eAAAA,GACA,MAAAsB,EAAA,KACA,GAAAA,EAAAvB,SAAA3B,MAIA,GAHAmD,KAAAG,MAAAH,KAAAC,UAAAF,EAAA/D,iBACA+E,KAAAC,GAAAA,EAAAnE,QAEAoE,SAAAlB,EAAAvB,SAAA3B,OAeAqE,EAAAA,GAAAC,QAAA,CACAC,KAAA,gBAhBA,CACA,MAAAC,EAAA,CACA7E,SAAA8E,EAAAA,GAAAC,gBAAA,IACA1E,MAAA,KACArB,OAAA,EACAqC,UAAA,EACAvB,KAAA,KACAyD,EAAAvB,UAEAuB,EAAA/D,eAAAwF,KAAAH,GACAtB,EAAAxB,YAAA,EAEAgC,EAAAA,GAAAC,SAAA,qBAAAa,GACAd,EAAAA,GAAAE,KAAA,6BAAAY,EACA,MAMAtB,EAAAxB,YAAA,CAEA,EACAL,aAAAA,CAAA7B,GACA,KACAE,cAAAyD,KAAAG,MAAAH,KAAAC,UAAA5D,GACA,EACA4B,gBAAAA,GACA,MAAA8B,EAAA,KACA,GAAAA,EAAAxD,cAAA,CACA,MAAAA,EAAAyD,KAAAG,MAAAH,KAAAC,UAAAF,EAAAxD,gBACAP,EAAAgE,KAAAG,MAAAH,KAAAC,UAAAF,EAAA/D,iBAEA,IAAAyF,GAAA,EAOA,GANAzF,EAAAqD,SAAA2B,IACAA,EAAAxE,WAAAD,EAAAC,UAAAwE,EAAAnE,QAAAN,EAAAM,QACA4E,GAAA,EACA,IAGAA,EAoBAP,EAAAA,GAAAC,QAAA,CACAC,KAAA,gBArBA,CACA,IAAAM,GAAA,EACA1F,EAAAqD,SAAA,CAAA2B,EAAAW,KACAX,EAAAxE,WAAAD,EAAAC,WACAkF,EAAAC,EACA,KAGA,IAAAD,GACA1F,EAAAM,KAAA,EACAN,EAAAwF,KAAAjF,IAEAP,EAAA0F,GAAAnF,EAGAwD,EAAA/D,eAAAA,EACAuE,EAAAA,GAAAC,SAAA,0BAAAjE,GACAgE,EAAAA,GAAAE,KAAA,kCAAAlE,GACAwD,EAAAxD,cAAA,IACA,CAKA,CACA,EACA4B,WAAAA,CAAA9B,GACA,MAAA0D,EAAA,KACAmB,EAAAA,GAAAC,QAAA,CACAC,KAAA,8BACA,KACA,MAAApF,EAAAgE,KAAAG,MAAAH,KAAAC,UAAAF,EAAA/D,iBACA,IAAA0F,GAAA,EACA1F,EAAAqD,SAAA,CAAA2B,EAAAW,KACAX,EAAAxE,WAAAH,EAAAG,WACAkF,EAAAC,EACA,KAEA,IAAAD,IACA1F,EAAA0F,GAAApF,KAAA,EACAiE,EAAAA,GAAAC,SAAA,yBAAAxE,EAAA0F,IACAnB,EAAAA,GAAAE,KAAA,iCAAAzE,EAAA0F,KAEA3B,EAAA/D,eAAAA,CAAA,GAEA,EACAH,YAAAA,GACA,MACAG,EAAAgE,KAAAG,MAAAH,KAAAC,UADA,KACAjE,iBACAuE,EAAAA,GAAAC,SAAA,wBAAAxE,GACAuE,EAAAA,GAAAE,KAAA,gCAAAzE,EACA,IEtTA,GAXgB,E,QAAA,GACd,EACAvB,EHwdoB,CACpB,WACE,IACEG,EADQD,KACCE,MAAMD,GACjB,OAAOA,EACL,SACA,CACEG,YAAa,QACbC,MAAO,CACL8B,KAAM,SACN,eAAgB,QAChB,aAAc,UAGlB,CAAClC,EAAG,OAAQ,CAAEI,MAAO,CAAE,cAAe,SAAY,CAZ1CL,KAY+CS,GAAG,QAE9D,IGteA,EACA,KACA,WACA,MAI8B,O","sources":["webpack:///./components/PrizeListBox/main.vue","webpack:///components/PrizeListBox/main.vue","webpack:///./components/PrizeListBox/main.vue?e21c","webpack:///./components/PrizeListBox/main.vue?36cf"],"sourcesContent":["var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"div\",\n    {\n      ref: \"box\",\n      staticClass: \"modal\",\n      attrs: { id: \"PrizeListBox\", tabindex: \"-1\", role: \"dialog\" },\n    },\n    [\n      _c(\"div\", { staticClass: \"modal-dialog\", attrs: { role: \"document\" } }, [\n        _c(\"div\", { staticClass: \"modal-content\" }, [\n          _c(\"div\", { staticClass: \"modal-header\" }, [\n            _c(\"h5\", { staticClass: \"modal-title\" }, [\n              _c(\"i\", { staticClass: \"fas fa-award\" }),\n              _vm._v(\n                \"\\n                    獎項名單 [\" +\n                  _vm._s(_vm.inputPrizeListCnt.cnt) +\n                  \" / \" +\n                  _vm._s(_vm.inputPrizeListCnt.amount) +\n                  \"]\\n                \"\n              ),\n            ]),\n            _vm._v(\" \"),\n            _vm._m(0),\n          ]),\n          _vm._v(\" \"),\n          _c(\n            \"div\",\n            { staticClass: \"modal-body\" },\n            [\n              _c(\n                \"draggable\",\n                {\n                  attrs: { handle: \".handler\" },\n                  on: { change: _vm.sortCallback },\n                  model: {\n                    value: _vm.inputPrizeList,\n                    callback: function ($$v) {\n                      _vm.inputPrizeList = $$v\n                    },\n                    expression: \"inputPrizeList\",\n                  },\n                },\n                [\n                  _c(\n                    \"transition-group\",\n                    [\n                      _vm._l(_vm.inputPrizeList, function (prizeInfo) {\n                        return [\n                          prizeInfo.del === false\n                            ? [\n                                !!_vm.editPrizeInfo &&\n                                _vm.editPrizeInfo.prize_sn ===\n                                  prizeInfo.prize_sn\n                                  ? _c(\n                                      \"div\",\n                                      {\n                                        key: prizeInfo.prize_sn,\n                                        staticClass: \"input-group mb-3\",\n                                      },\n                                      [\n                                        _c(\n                                          \"div\",\n                                          {\n                                            staticClass:\n                                              \"input-group-prepend handler cursor-pointer\",\n                                          },\n                                          [\n                                            _c(\n                                              \"span\",\n                                              {\n                                                staticClass: \"input-group-text\",\n                                                attrs: { id: \"basic-addon1\" },\n                                              },\n                                              [\n                                                _c(\"i\", {\n                                                  staticClass: \"fas fa-bars\",\n                                                }),\n                                              ]\n                                            ),\n                                          ]\n                                        ),\n                                        _vm._v(\" \"),\n                                        _c(\"input\", {\n                                          directives: [\n                                            {\n                                              name: \"model\",\n                                              rawName: \"v-model\",\n                                              value: _vm.editPrizeInfo.title,\n                                              expression: \"editPrizeInfo.title\",\n                                            },\n                                          ],\n                                          staticClass: \"form-control\",\n                                          attrs: {\n                                            type: \"text\",\n                                            placeholder: \"編輯獎項名稱\",\n                                          },\n                                          domProps: {\n                                            value: _vm.editPrizeInfo.title,\n                                          },\n                                          on: {\n                                            input: function ($event) {\n                                              if ($event.target.composing)\n                                                return\n                                              _vm.$set(\n                                                _vm.editPrizeInfo,\n                                                \"title\",\n                                                $event.target.value\n                                              )\n                                            },\n                                          },\n                                        }),\n                                        _vm._v(\" \"),\n                                        _c(\"input\", {\n                                          directives: [\n                                            {\n                                              name: \"model\",\n                                              rawName: \"v-model.number\",\n                                              value: _vm.editPrizeInfo.amount,\n                                              expression:\n                                                \"editPrizeInfo.amount\",\n                                              modifiers: { number: true },\n                                            },\n                                          ],\n                                          staticClass: \"form-control\",\n                                          attrs: {\n                                            type: \"number\",\n                                            placeholder: \"總數量\",\n                                            min: \"1\",\n                                            step: \"1\",\n                                          },\n                                          domProps: {\n                                            value: _vm.editPrizeInfo.amount,\n                                          },\n                                          on: {\n                                            input: function ($event) {\n                                              if ($event.target.composing)\n                                                return\n                                              _vm.$set(\n                                                _vm.editPrizeInfo,\n                                                \"amount\",\n                                                _vm._n($event.target.value)\n                                              )\n                                            },\n                                            blur: function ($event) {\n                                              return _vm.$forceUpdate()\n                                            },\n                                          },\n                                        }),\n                                        _vm._v(\" \"),\n                                        _c(\"input\", {\n                                          directives: [\n                                            {\n                                              name: \"model\",\n                                              rawName: \"v-model.number\",\n                                              value:\n                                                _vm.editPrizeInfo.drawCount,\n                                              expression:\n                                                \"editPrizeInfo.drawCount\",\n                                              modifiers: { number: true },\n                                            },\n                                          ],\n                                          staticClass: \"form-control\",\n                                          attrs: {\n                                            type: \"number\",\n                                            placeholder: \"每次抽幾人\",\n                                            min: \"1\",\n                                            step: \"1\",\n                                          },\n                                          domProps: {\n                                            value: _vm.editPrizeInfo.drawCount,\n                                          },\n                                          on: {\n                                            input: function ($event) {\n                                              if ($event.target.composing)\n                                                return\n                                              _vm.$set(\n                                                _vm.editPrizeInfo,\n                                                \"drawCount\",\n                                                _vm._n($event.target.value)\n                                              )\n                                            },\n                                            blur: function ($event) {\n                                              return _vm.$forceUpdate()\n                                            },\n                                          },\n                                        }),\n                                        _vm._v(\" \"),\n                                        _c(\n                                          \"div\",\n                                          { staticClass: \"input-group-append\" },\n                                          [\n                                            _c(\n                                              \"span\",\n                                              {\n                                                staticClass:\n                                                  \"input-group-text btn-success\",\n                                                staticStyle: {\n                                                  cursor: \"pointer\",\n                                                },\n                                                on: {\n                                                  click: _vm.saveEditPrizeAct,\n                                                },\n                                              },\n                                              [\n                                                _c(\"i\", {\n                                                  staticClass: \"far fa-save\",\n                                                }),\n                                              ]\n                                            ),\n                                          ]\n                                        ),\n                                      ]\n                                    )\n                                  : _c(\n                                      \"div\",\n                                      {\n                                        key: prizeInfo.prize_sn,\n                                        staticClass:\n                                          \"input-group mb-3 prizeListGroup\",\n                                      },\n                                      [\n                                        _c(\n                                          \"div\",\n                                          {\n                                            staticClass:\n                                              \"input-group-prepend handler cursor-pointer\",\n                                          },\n                                          [\n                                            _c(\n                                              \"span\",\n                                              {\n                                                staticClass: \"input-group-text\",\n                                                attrs: { id: \"basic-addon1\" },\n                                              },\n                                              [\n                                                _c(\"i\", {\n                                                  staticClass: \"fas fa-bars\",\n                                                }),\n                                              ]\n                                            ),\n                                          ]\n                                        ),\n                                        _vm._v(\" \"),\n                                        _c(\n                                          \"div\",\n                                          { staticClass: \"form-control\" },\n                                          [\n                                            _vm._v(\n                                              \"\\n                                        \" +\n                                                _vm._s(prizeInfo.title) +\n                                                \" (總\" +\n                                                _vm._s(prizeInfo.amount) +\n                                                \"名 / 每次\" +\n                                                _vm._s(\n                                                  prizeInfo.drawCount || 1\n                                                ) +\n                                                \"人)\\n                                    \"\n                                            ),\n                                          ]\n                                        ),\n                                        _vm._v(\" \"),\n                                        _c(\n                                          \"div\",\n                                          { staticClass: \"input-group-append\" },\n                                          [\n                                            _c(\n                                              \"span\",\n                                              {\n                                                staticClass: \"input-group-text\",\n                                                staticStyle: {\n                                                  cursor: \"pointer\",\n                                                },\n                                                on: {\n                                                  click: function ($event) {\n                                                    return _vm.openEditPrize(\n                                                      prizeInfo\n                                                    )\n                                                  },\n                                                },\n                                              },\n                                              [\n                                                _c(\"i\", {\n                                                  staticClass: \"far fa-edit\",\n                                                }),\n                                              ]\n                                            ),\n                                          ]\n                                        ),\n                                        _vm._v(\" \"),\n                                        _c(\n                                          \"div\",\n                                          { staticClass: \"input-group-append\" },\n                                          [\n                                            _c(\n                                              \"span\",\n                                              {\n                                                staticClass: \"input-group-text\",\n                                                staticStyle: {\n                                                  cursor: \"pointer\",\n                                                },\n                                                on: {\n                                                  click: function ($event) {\n                                                    return _vm.delPrizeAct(\n                                                      prizeInfo\n                                                    )\n                                                  },\n                                                },\n                                              },\n                                              [\n                                                _c(\"i\", {\n                                                  staticClass:\n                                                    \"fas fa-trash-alt\",\n                                                }),\n                                              ]\n                                            ),\n                                          ]\n                                        ),\n                                      ]\n                                    ),\n                              ]\n                            : _vm._e(),\n                        ]\n                      }),\n                    ],\n                    2\n                  ),\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _vm.prizeList.length > 0 ? [_c(\"hr\")] : _vm._e(),\n              _vm._v(\" \"),\n              !_vm.addNewFlag\n                ? [\n                    _c(\n                      \"button\",\n                      {\n                        staticClass: \"btn btn-info btn-block\",\n                        attrs: { id: \"AddPrize\", type: \"button\" },\n                        on: {\n                          click: function ($event) {\n                            return _vm.openAddPrize(true)\n                          },\n                        },\n                      },\n                      [\n                        _vm._v(\n                          \"\\n                        新增獎項\\n                    \"\n                        ),\n                      ]\n                    ),\n                  ]\n                : [\n                    _c(\n                      \"div\",\n                      {\n                        staticClass: \"input-group mb-3\",\n                        attrs: { id: \"AddPrizeGroup\" },\n                      },\n                      [\n                        _c(\"input\", {\n                          directives: [\n                            {\n                              name: \"model\",\n                              rawName: \"v-model\",\n                              value: _vm.newPrize.title,\n                              expression: \"newPrize.title\",\n                            },\n                          ],\n                          staticClass: \"form-control\",\n                          attrs: {\n                            name: \"title\",\n                            type: \"text\",\n                            placeholder: \"新增的獎項名稱\",\n                          },\n                          domProps: { value: _vm.newPrize.title },\n                          on: {\n                            input: function ($event) {\n                              if ($event.target.composing) return\n                              _vm.$set(\n                                _vm.newPrize,\n                                \"title\",\n                                $event.target.value\n                              )\n                            },\n                          },\n                        }),\n                        _vm._v(\" \"),\n                        _c(\"input\", {\n                          directives: [\n                            {\n                              name: \"model\",\n                              rawName: \"v-model.number\",\n                              value: _vm.newPrize.amount,\n                              expression: \"newPrize.amount\",\n                              modifiers: { number: true },\n                            },\n                          ],\n                          staticClass: \"form-control\",\n                          attrs: {\n                            name: \"amount\",\n                            type: \"number\",\n                            placeholder: \"總數量\",\n                            min: \"1\",\n                            step: \"1\",\n                          },\n                          domProps: { value: _vm.newPrize.amount },\n                          on: {\n                            input: function ($event) {\n                              if ($event.target.composing) return\n                              _vm.$set(\n                                _vm.newPrize,\n                                \"amount\",\n                                _vm._n($event.target.value)\n                              )\n                            },\n                            blur: function ($event) {\n                              return _vm.$forceUpdate()\n                            },\n                          },\n                        }),\n                        _vm._v(\" \"),\n                        _c(\"input\", {\n                          directives: [\n                            {\n                              name: \"model\",\n                              rawName: \"v-model.number\",\n                              value: _vm.newPrize.drawCount,\n                              expression: \"newPrize.drawCount\",\n                              modifiers: { number: true },\n                            },\n                          ],\n                          staticClass: \"form-control\",\n                          attrs: {\n                            name: \"drawCount\",\n                            type: \"number\",\n                            placeholder: \"每次抽幾人\",\n                            min: \"1\",\n                            step: \"1\",\n                          },\n                          domProps: { value: _vm.newPrize.drawCount },\n                          on: {\n                            input: function ($event) {\n                              if ($event.target.composing) return\n                              _vm.$set(\n                                _vm.newPrize,\n                                \"drawCount\",\n                                _vm._n($event.target.value)\n                              )\n                            },\n                            blur: function ($event) {\n                              return _vm.$forceUpdate()\n                            },\n                          },\n                        }),\n                        _vm._v(\" \"),\n                        _c(\"div\", { staticClass: \"input-group-append\" }, [\n                          _c(\n                            \"span\",\n                            {\n                              staticClass: \"input-group-text\",\n                              staticStyle: { cursor: \"pointer\" },\n                              on: { click: _vm.saveNewPrizeAct },\n                            },\n                            [_c(\"i\", { staticClass: \"far fa-save\" })]\n                          ),\n                        ]),\n                      ]\n                    ),\n                  ],\n            ],\n            2\n          ),\n        ]),\n      ]),\n    ]\n  )\n}\nvar staticRenderFns = [\n  function () {\n    var _vm = this,\n      _c = _vm._self._c\n    return _c(\n      \"button\",\n      {\n        staticClass: \"close\",\n        attrs: {\n          type: \"button\",\n          \"data-dismiss\": \"modal\",\n          \"aria-label\": \"Close\",\n        },\n      },\n      [_c(\"span\", { attrs: { \"aria-hidden\": \"true\" } }, [_vm._v(\"×\")])]\n    )\n  },\n]\nrender._withStripped = true\n\nexport { render, staticRenderFns }","<template>\r\n    <div id=\"PrizeListBox\" ref=\"box\" class=\"modal\" tabindex=\"-1\"\r\n        role=\"dialog\"\r\n    >\r\n        <div class=\"modal-dialog\" role=\"document\">\r\n            <div class=\"modal-content\">\r\n                <div class=\"modal-header\">\r\n                    <h5 class=\"modal-title\">\r\n                        <i class=\"fas fa-award\"></i>\r\n                        獎項名單 [{{ inputPrizeListCnt.cnt }} / {{ inputPrizeListCnt.amount }}]\r\n                    </h5>\r\n                    <button type=\"button\" class=\"close\" data-dismiss=\"modal\"\r\n                        aria-label=\"Close\"\r\n                    >\r\n                        <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n                <div class=\"modal-body\">\r\n                    <draggable\r\n                        v-model=\"inputPrizeList\"\r\n                        handle=\".handler\"\r\n                        @change=\"sortCallback\"\r\n                    >\r\n                        <transition-group>\r\n                            <template v-for=\"prizeInfo in inputPrizeList\">\r\n                                <template v-if=\"prizeInfo.del === false\">\r\n                                    <div v-if=\"!!editPrizeInfo && editPrizeInfo.prize_sn === prizeInfo.prize_sn\" :key=\"prizeInfo.prize_sn\" class=\"input-group mb-3\">\r\n                                        <div class=\"input-group-prepend handler cursor-pointer\">\r\n                                            <span class=\"input-group-text\" id=\"basic-addon1\">\r\n                                                <i class=\"fas fa-bars\"></i>\r\n                                            </span>\r\n                                        </div>\r\n                                        <input v-model=\"editPrizeInfo.title\" type=\"text\"\r\n                                            class=\"form-control\" placeholder=\"編輯獎項名稱\"\r\n                                        >\r\n                                        <input v-model.number=\"editPrizeInfo.amount\" type=\"number\"\r\n                                            class=\"form-control\" placeholder=\"總數量\"\r\n                                            min=\"1\"\r\n                                            step=\"1\"\r\n                                        >\r\n                                        <input v-model.number=\"editPrizeInfo.drawCount\" type=\"number\"\r\n                                            class=\"form-control\" placeholder=\"每次抽幾人\"\r\n                                            min=\"1\"\r\n                                            step=\"1\"\r\n                                        >\r\n                                        <div class=\"input-group-append\">\r\n                                            <span class=\"input-group-text btn-success\" style=\"cursor: pointer\" @click=\"saveEditPrizeAct\">\r\n                                                <i class=\"far fa-save\"></i>\r\n                                            </span>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div v-else :key=\"prizeInfo.prize_sn\" class=\"input-group mb-3 prizeListGroup\">\r\n                                        <div class=\"input-group-prepend handler cursor-pointer\">\r\n                                            <span class=\"input-group-text\" id=\"basic-addon1\">\r\n                                                <i class=\"fas fa-bars\"></i>\r\n                                            </span>\r\n                                        </div>\r\n                                        <div class=\"form-control\">\r\n                                            {{ prizeInfo.title }} (總{{ prizeInfo.amount }}名 / 每次{{ prizeInfo.drawCount || 1 }}人)\r\n                                        </div>\r\n                                        <div class=\"input-group-append\">\r\n                                            <span class=\"input-group-text\" style=\"cursor: pointer\" @click=\"openEditPrize(prizeInfo)\">\r\n                                                <i class=\"far fa-edit\"></i>\r\n                                            </span>\r\n                                        </div>\r\n                                        <div class=\"input-group-append\">\r\n                                            <span class=\"input-group-text\" style=\"cursor: pointer\" @click=\"delPrizeAct(prizeInfo)\">\r\n                                                <i class=\"fas fa-trash-alt\"></i>\r\n                                            </span>\r\n                                        </div>\r\n                                    </div>\r\n                                </template>\r\n                            </template>\r\n                        </transition-group>\r\n                    </draggable>\r\n\r\n                    <template v-if=\"prizeList.length > 0\">\r\n                        <hr />\r\n                    </template>\r\n\r\n                    <template v-if=\"!addNewFlag\">\r\n                        <button id=\"AddPrize\" type=\"button\" class=\"btn btn-info btn-block\" @click=\"openAddPrize(true)\">\r\n                            新增獎項\r\n                        </button>\r\n                    </template>\r\n                    <template v-else>\r\n                        <div id=\"AddPrizeGroup\" class=\"input-group mb-3\">\r\n                            <input v-model=\"newPrize.title\"\r\n                                name=\"title\"\r\n                                type=\"text\"\r\n                                class=\"form-control\"\r\n                                placeholder=\"新增的獎項名稱\"\r\n                            >\r\n                            <input v-model.number=\"newPrize.amount\"\r\n                                name=\"amount\"\r\n                                type=\"number\"\r\n                                class=\"form-control\" placeholder=\"總數量\"\r\n                                min=\"1\"\r\n                                step=\"1\"\r\n                            >\r\n                            <input v-model.number=\"newPrize.drawCount\"\r\n                                name=\"drawCount\"\r\n                                type=\"number\"\r\n                                class=\"form-control\" placeholder=\"每次抽幾人\"\r\n                                min=\"1\"\r\n                                step=\"1\"\r\n                            >\r\n                            <div class=\"input-group-append\">\r\n                                <span class=\"input-group-text\" style=\"cursor: pointer\" @click=\"saveNewPrizeAct\">\r\n                                    <i class=\"far fa-save\"></i>\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </template>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport draggable from 'vuedraggable'\r\n\r\nimport { popup, string, trackJS } from 'lib/common/util';\r\nimport { mapActions, mapMutations, mapGetters } from 'vuex';\r\n\r\nexport default {\r\n    components: {\r\n        draggable,\r\n    },\r\n    filters: {},\r\n    props: {},\r\n    data(){\r\n        return {\r\n            addNewFlag: false,\r\n            newPrize: {\r\n                title: '',\r\n                amount: 1,\r\n                drawCount: 1,\r\n            },\r\n            inputPrizeList: [],\r\n            editPrizeInfo: null,\r\n        };\r\n    },\r\n    computed: {\r\n        ...mapGetters([\r\n            'triggerOpenPrizeList',\r\n            'prizeList',\r\n        ]),\r\n        inputPrizeListCnt(){\r\n            let PrizeCnt = 0;\r\n            let PrizeAmountCnt = 0;\r\n            this.inputPrizeList.forEach((info) => {\r\n                if (info.del === false) {\r\n                    PrizeCnt += 1;\r\n                    PrizeAmountCnt += info.amount;\r\n                }\r\n            });\r\n            return { cnt: PrizeCnt, amount: PrizeAmountCnt };\r\n        },\r\n    },\r\n    watch: {\r\n        triggerOpenPrizeList: {\r\n            handler(){\r\n                if (this.triggerOpenPrizeList) {\r\n                    $(this.$refs.box).modal('show');\r\n                } else {\r\n                    $(this.$refs.box).modal('hide');\r\n                }\r\n            },\r\n        },\r\n        inputPrizeList: {\r\n            deep: true,\r\n            handler(){\r\n                const that = this;\r\n                const prizeList = JSON.stringify(that.prizeList);\r\n                const inputPrizeList = JSON.stringify(that.inputPrizeList);\r\n                if (prizeList !== inputPrizeList) {\r\n                    that.syncPrizeList(JSON.parse(inputPrizeList));\r\n                }\r\n            },\r\n        },\r\n    },\r\n    created(){},\r\n    mounted(){\r\n        const that = this;\r\n\r\n        $(this.$refs.box).bind('shown.bs.modal', () => {\r\n            that.inputPrizeList = JSON.parse(JSON.stringify(that.prizeList));\r\n            that.addNewFlag = false;\r\n            that.newPrize = {\r\n                title: '',\r\n                amount: 1,\r\n                drawCount: 1,\r\n            };\r\n\r\n            if (that.inputPrizeList.length === 0) {\r\n                that.addNewFlag = true;\r\n            }\r\n            that.editPrizeInfo = null;\r\n\r\n            trackJS.mixpanel('PrizeListOpen_click');\r\n            trackJS.gtag('event', 'PrizeListOpen_click');\r\n        });\r\n\r\n        $(that.$refs.box).bind('hidden.bs.modal', () => {\r\n            trackJS.mixpanel('PrizeListClose_click');\r\n            trackJS.gtag('event', 'PrizeListClose_click');\r\n        });\r\n\r\n        if (this.triggerOpenPrizeList) {\r\n            $(this.$refs.box).modal('show');\r\n        } else {\r\n            $(this.$refs.box).modal('hide');\r\n        }\r\n    },\r\n    updated(){},\r\n    destroyed(){},\r\n    methods: {\r\n        ...mapActions({}),\r\n        ...mapMutations({\r\n            syncPrizeList: 'syncPrizeList',\r\n        }),\r\n        openAddPrize(){\r\n            const that = this;\r\n            that.newPrize = {\r\n                title: '',\r\n                amount: 1,\r\n                drawCount: 1,\r\n            };\r\n            that.addNewFlag = true;\r\n        },\r\n        saveNewPrizeAct(){\r\n            const that = this;\r\n            if (!!that.newPrize.title) {\r\n                const inputPrizeList = JSON.parse(JSON.stringify(that.inputPrizeList));\r\n                const prizeListTitle = inputPrizeList.map(item => item.title);\r\n\r\n                if (!prizeListTitle.includes(that.newPrize.title)) {\r\n                    const params = {\r\n                        prize_sn: string.getRandomString(10),\r\n                        title: '獎勵',\r\n                        amount: 1,\r\n                        drawCount: 1,\r\n                        del: false,\r\n                        ...that.newPrize,\r\n                    };\r\n                    that.inputPrizeList.push(params);\r\n                    that.addNewFlag = false;\r\n\r\n                    trackJS.mixpanel('PrizeListAdd_click', params);\r\n                    trackJS.gtag('event', 'PrizeListAdd_click', params);\r\n                } else {\r\n                    popup.warning({\r\n                        html: '已有相同的獎項',\r\n                    });\r\n                }\r\n            } else {\r\n                that.addNewFlag = false;\r\n            }\r\n        },\r\n        openEditPrize(prizeInfo){\r\n            const that = this;\r\n            that.editPrizeInfo = JSON.parse(JSON.stringify(prizeInfo));\r\n        },\r\n        saveEditPrizeAct(){\r\n            const that = this;\r\n            if (that.editPrizeInfo) {\r\n                const editPrizeInfo = JSON.parse(JSON.stringify(that.editPrizeInfo));\r\n                const inputPrizeList = JSON.parse(JSON.stringify(that.inputPrizeList));\r\n\r\n                let match = false;\r\n                inputPrizeList.forEach((item) => {\r\n                    if (item.prize_sn !== editPrizeInfo.prize_sn && item.title === editPrizeInfo.title) {\r\n                        match = true;\r\n                    }\r\n                });\r\n\r\n                if (!match) {\r\n                    let focus_index = false;\r\n                    inputPrizeList.forEach((item, index) => {\r\n                        if (item.prize_sn === editPrizeInfo.prize_sn) {\r\n                            focus_index = index;\r\n                        }\r\n                    });\r\n\r\n                    if (focus_index === false) {\r\n                        inputPrizeList.del = false;\r\n                        inputPrizeList.push(editPrizeInfo);\r\n                    } else {\r\n                        inputPrizeList[focus_index] = editPrizeInfo;\r\n                    }\r\n\r\n                    that.inputPrizeList = inputPrizeList;\r\n                    trackJS.mixpanel('PrizeListEditSave_click', editPrizeInfo);\r\n                    trackJS.gtag('event', 'PrizeListEditSave_click', editPrizeInfo);\r\n                    that.editPrizeInfo = null;\r\n                } else {\r\n                    popup.warning({\r\n                        html: '已有相同的獎項',\r\n                    });\r\n                }\r\n            }\r\n        },\r\n        delPrizeAct(prizeInfo){\r\n            const that = this;\r\n            popup.warning({\r\n                html: '您確定要刪除此筆獎項嗎？對應的得獎資訊也都會消除唷',\r\n            }, () => {\r\n                const inputPrizeList = JSON.parse(JSON.stringify(that.inputPrizeList));\r\n                let focus_index = false;\r\n                inputPrizeList.forEach((item, index) => {\r\n                    if (item.prize_sn === prizeInfo.prize_sn) {\r\n                        focus_index = index;\r\n                    }\r\n                });\r\n                if (focus_index !== false) {\r\n                    inputPrizeList[focus_index].del = true;\r\n                    trackJS.mixpanel('PrizeListEditDel_click', inputPrizeList[focus_index]);\r\n                    trackJS.gtag('event', 'PrizeListEditDel_click', inputPrizeList[focus_index]);\r\n                }\r\n                that.inputPrizeList = inputPrizeList;\r\n            });\r\n        },\r\n        sortCallback(){\r\n            const that = this;\r\n            const inputPrizeList = JSON.parse(JSON.stringify(that.inputPrizeList));\r\n            trackJS.mixpanel('PrizeListSort_trigger', inputPrizeList);\r\n            trackJS.gtag('event', 'PrizeListSort_trigger', inputPrizeList);\r\n        },\r\n    },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./main.vue?vue&type=template&id=247db200&scoped=true\"\nimport script from \"./main.vue?vue&type=script&lang=js\"\nexport * from \"./main.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"247db200\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","ref","staticClass","attrs","id","tabindex","role","_v","_s","inputPrizeListCnt","cnt","amount","_m","handle","on","change","sortCallback","model","value","inputPrizeList","callback","$$v","expression","_l","prizeInfo","del","editPrizeInfo","prize_sn","key","directives","name","rawName","title","type","placeholder","domProps","input","$event","target","composing","$set","modifiers","number","min","step","_n","blur","$forceUpdate","drawCount","staticStyle","cursor","click","saveEditPrizeAct","openEditPrize","delPrizeAct","_e","prizeList","length","addNewFlag","newPrize","saveNewPrizeAct","openAddPrize","_withStripped","components","draggable","filters","props","data","computed","mapGetters","PrizeCnt","PrizeAmountCnt","forEach","info","watch","triggerOpenPrizeList","handler","$","$refs","box","modal","deep","that","JSON","stringify","syncPrizeList","parse","created","mounted","bind","trackJS","mixpanel","gtag","updated","destroyed","methods","mapActions","mapMutations","map","item","includes","popup","warning","html","params","string","getRandomString","push","match","focus_index","index"],"sourceRoot":""}