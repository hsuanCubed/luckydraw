{"version":3,"file":"app/index.bundle.js","mappings":"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","sources":["webpack:///webpack/runtime/chunk loaded","webpack:///webpack/runtime/load script","webpack:///./lib/store/actions/common.js","webpack:///./lib/store/actions/index.js","webpack:///./lib/store/state/index.js","webpack:///./lib/store/state/common.js","webpack:///./lib/store/mutations/common.js","webpack:///./lib/store/mutations/index.js","webpack:///./lib/store/getters/index.js","webpack:///./lib/store/getters/common.js","webpack:///./lib/store/index.js","webpack:///./app/app.js","webpack:///./app/index.js","webpack:///./lib/common/util.js","webpack:///./lib/common/util/history_route.js","webpack:///./lib/common/util/jsVars.js","webpack:///./lib/common/util/linkRegister.js","webpack:///./lib/common/util/localStorage.js","webpack:///./lib/common/util/mixpanel.js","webpack:///./lib/common/util/popup.js","webpack:///./lib/common/util/string.js","webpack:///./lib/common/util/trackJS.js","webpack:///./lib/common/util/tutorial.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/ensure chunk","webpack:///webpack/runtime/get javascript chunk filename","webpack:///webpack/runtime/global","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///webpack/runtime/runtimeId","webpack:///webpack/runtime/publicPath","webpack:///webpack/runtime/jsonp chunk loading","webpack:///webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var inProgress = {};\n// data-webpack is not used as build has no uniqueName\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","export default {\r\n};","import common from './common.js';\r\nexport default {\r\n    common: {...common},\r\n}","import common from './common.js';\r\nexport default {\r\n    common: {...common},\r\n}","export default {\r\n    adBlocked: false,\r\n    favicon: {\r\n        default: './dist/img/faviconDefault.ico',\r\n        run: './dist/img/faviconRun.ico',\r\n        award: './dist/img/faviconAward.ico',\r\n    },\r\n\r\n    /**\r\n     * 正在看的 LuckyDraw\r\n     */\r\n    luckyDrawFocusKey: false,\r\n\r\n    /**\r\n     * 目前的 luckyDraw 是亂數產生\r\n     */\r\n    luckyDrawIsRandom: false,\r\n\r\n    /**\r\n     * 初始選擇列表\r\n     */\r\n    luckyDrawChooseList: [],\r\n\r\n    /**\r\n     * 預設值\r\n     */\r\n    defaultConfig: {\r\n        boxWidth: 100,\r\n        boxHeight: 60,\r\n        boxMH: 3,\r\n        boxMV: 3,\r\n        titleSize: 15,\r\n        subtitleSize: 12,\r\n        defaultColor: '#FFF',\r\n        focusColor: '#ffcf97',\r\n        doneColor: '#c0c0c0',\r\n\r\n        webTitle: 'Lucky Draw',\r\n        headerColor: '#343a40',\r\n        backgroundImg: '',\r\n        backgroundOpacity: 0.5,\r\n        defaultRunTime: 50,\r\n        isTutorial: false,\r\n    },\r\n\r\n    /**\r\n     * 目前值\r\n     */\r\n    config: {\r\n        boxWidth: 100,\r\n        boxHeight: 60,\r\n        boxMH: 3,\r\n        boxMV: 3,\r\n        titleSize: 15,\r\n        subtitleSize: 12,\r\n        defaultColor: '#FFF',\r\n        focusColor: '#ffcf97',\r\n        doneColor: '#c0c0c0',\r\n\r\n        webTitle: '',\r\n        headerColor: '#343a40',\r\n        backgroundImg: '',\r\n        backgroundOpacity: 0.5,\r\n        defaultRunTime: 50,\r\n        isTutorial: false,\r\n    },\r\n\r\n    /**\r\n     * 候選名單\r\n     */\r\n    candidateList: [],\r\n\r\n    /**\r\n     * 候選人亂數\r\n     */\r\n    candidateList_sort: [],\r\n\r\n    /**\r\n     * 獎品表\r\n     */\r\n    prizeList: [],\r\n\r\n    /**\r\n     * 正在抽到的人\r\n     */\r\n    focusCandidateSN: null,\r\n\r\n    /**\r\n     * 正在抽得獎品\r\n     */\r\n    focusPrizeSN: null,\r\n\r\n    /**\r\n     * 已經得獎的候選人\r\n     */\r\n    haveAwardCandidateSN: [],\r\n\r\n    /**\r\n     * 抽獎跑循環等待時間\r\n     */\r\n    getLuckyWaitTimeArr: [\r\n        {\r\n            limit: 500,\r\n            wait: 10,\r\n        },\r\n        {\r\n            limit: 100,\r\n            wait: 20,\r\n        },\r\n        {\r\n            limit: 50,\r\n            wait: 30,\r\n        },\r\n        {\r\n            limit: 30,\r\n            wait: 80,\r\n        },\r\n        {\r\n            limit: 6,\r\n            wait: 100,\r\n        },\r\n        {\r\n            limit: 4,\r\n            wait: 500,\r\n        },\r\n        {\r\n            limit: 3,\r\n            wait: 800,\r\n        },\r\n        {\r\n            limit: 2,\r\n            wait: 1000,\r\n        },\r\n        {\r\n            limit: 1,\r\n            wait: 1100,\r\n        },\r\n    ],\r\n\r\n    /**\r\n     * 開啟候選人列表\r\n     */\r\n    triggerOpenCandidateList: null,\r\n\r\n    /**\r\n     * 開啟獎項列表\r\n     */\r\n    triggerOpenPrizeList: null,\r\n\r\n    /**\r\n     * 開啟抽一把\r\n     */\r\n    triggerOpenGetLucky: null,\r\n\r\n    /**\r\n     * 打開抽獎結果\r\n     */\r\n    triggerOpenLucky: null,\r\n\r\n    /**\r\n     * 打開抽獎狀況\r\n     */\r\n    triggerOpenResult: null,\r\n\r\n    /**\r\n     * 設定\r\n     */\r\n    triggerOpenSetting: null,\r\n\r\n    /**\r\n     * 開啟資料轉換\r\n     */\r\n    triggerOpenUpgradeData: null,\r\n\r\n    /**\r\n     * 亂數\r\n     */\r\n    randomCandidateNames: '鬱惠雯,陳嘉夫,郭筱雯,王嘉琪,魏江全,施乃士,黃承東,吳秋琴,蔡禮月,楊俊賢,劉韻如,林義人,黃科星,梁子江,蕭于庭,溫佩芳,李呈琴,柯智傑,張馨妃,李俊緯,許宗儒,鄭伯吟,林心怡,陳志偉,黃慧達,黃儀林,劉琬婷,黃登音,洪綠玟,蔡依和,黃陽凌,蔡怡芳,黃智謙,金鈞珊,周禮美,柯康源,黃世沛,韓博昀,陳韋名,鄭嘉慧,李昀卉,蕭中堅,賴于婷,陳孝睿,蔡明瑄,陳哲榮,郭春鑫,王幸萍,陳凱翔,李承妏,陳建輝,李上文,陳雅伸,陳穎添,徐文傑,陳姿迪,葉修桂,黃惠以,陳盈甄,曾俊賢,林政玲,張雅玲,翁彥翔,戴美君,陳佑谷,方思佳,趙盛丞,胡淑芬,陳人毓,陳珮瑜,曾麗卿,夏重秀,許育妹,羅盈君,賴淑芬,鐘卓原,趙明吉,吳靜宜,李文彬,徐俐昆,呂婉玲,高雯珊,李惠珠,金茹云,楊玫芝,趙兆伯,張雅宣,陳秉霞,周智文,賴韋廷,李宛冰,林瓊舜,黃柏毅,李宗成,楊馥廷,林家佑,蘇雅雯,鄭文岑,葉怡雯,王華禎,黃仲美,林奕靖,侯嘉添,陳世貴,王寧平,黃筱辛,黃欣樺,林俊廷,李紹寧,周華人,林偉智,王士芷,張峻恬,陳人亦,吳榮洋,彭靜怡,謝宛茹,許善香,袁佩穎,謝南任,楊秀珍,陳彥玟,吳俊瑋,王秀冰,林嘉俐,廖婉劭,何雨修,蘇彥博,林建瑋,尤怡雯,吳政綸,吳貞儀,扈世昌,曾典亨,陳威惟,柯立雄,李書瑋,邱瓊文,黃嘉音,林美惠,張永茂,林佳洋,白歡禎,陳順韋,陳淑芳,駱依婷,王國偉,施大珊,劉家銘,楊志鴻,徐治旺,王玉鳳,李玄傑,許穎青,林華雪,林康妃,邵勝傑,劉綠善,謝詩水,陳行緯,蔡詠彬,杜允康,童有春,彭幼凡,林郁輝,蕭長信,陳上禎,吳健豪,施青全,韓大駿,林雲恬,蔣宇軒,陳羿欣,劉耿宣,蔡佩亞,李秀玲,高皓秋,王禹合,江威德,李怡君,宋曉侑,鄭怡伶,彭秀芬,洪美慧,張偉倫,陳佳瑜,趙裕翔,林文吟,甘其原,許家美,陳婷婷,林伶博,鞏中惟,郭和妍,陳政霖,吳秉啟,魏宇軒,歐白瑩,高志嘉,蔡宗翰,吳玟瑜,林燦坤,陳淑君,盧誠紫,蔡文雯,路致辰,陳明智,林鈞季,劉雪仲,蕭佩璇,黃雅琳,李登賢,桑敏珠,沈慧萍,黃建菁,黎緯玄,林振夢,林東添,李宜珊,黃孟勳,童光君,林琬婷,趙兆順,童千琪,李信豪,王俊卿,林家誠,吳淑敏,丁雅婷,黃雅沛,王柏源,張恭珮,郭嘉惠,張順琬,夏婷婷,賴苡映,黃智龍,蔡康行,陳志杰,彭偉翔,林立明,王林薇,徐瓊慧,高婉如,吳其宏,蔣筱婷,林建秋,王馨信,陳昭禾,涂燦育,林淑萍,張志宏,賴怡伶,林立偉,陳智偉,王庭寶,蘇俞能,陳孟涵,蕭淑惠,林姿啟,蔡雅利,梁白聖,潘雅惠,劉毓芬,陳駿利,方軍順,陳奕辰,張家松,王怡菱,趙思賢,錢俊安,楊淑慧,蘇怡禎,蔡佳修,舒智堯,馮志祥,林志傑,蔣嘉琪,吳胤中,陳昕誠,謝昌幸,陳姿君,林以人,張惟婷,李俞憲,張志紫,李怡羽,高馨儀,黃琪嬌,周雅瑞,蔡明亦,龐英傑,高亭君,張凱佩,林于真,陳水謙,鄭宥馨,陳宇翔,謝亭杰,魏俊宏,趙雪諭,林品倫,張永士,劉玉妃,曾維倫,林淑珍,傅子弘,陳于貞,楊淑樺,林金鳳,鄭靖桓,李家維,黃慧東,趙怡君,唐佩怡,林晴季,張雅惠,謝崇桓,林孟堅,潘家弘,溫懿源,林正甫,許怡秀,蔡真惠,陳秀琴,崔明宏,溫向禾,黃欣怡,楊雲婷,吳俊賢,錢淑敏,李皇航,李武謙,陳秉勳,王進典,王予靖,劉美俐,林家華,林均苓,徐炳亨,廖琬韋,王聖柏,張玉祥,張怡軍,彭奕廷,李志強,蔡宗新,李郁婷,賴沛昇,陳韋韋,錢正偉,熊惟潔,陳姿坤,黃子劭,羅馨儀,郭韻如,劉惠雯,錢韋志,劉育霖,史法馨,盧佩蓉,郭佩昆,黃盛琇,賴佩俐,黃柏宇,陳秀麟,賴苑雅,王怡珮,王俊成,洪偉貞,劉惠珍,陳蘭丹,張俊翔,蔡雅善,林耀中,劉欣怡,蕭仕其,黃玉秀,黃怡秀,林宏民,陳淑萍,陳翊一,陳鈺雯,趙宛雲,鄭信宏,黃慧苓,陳俊宏,蔣秀玲,李恒中,彭淑慧,楊雅琪,鄔均燦,鄭淑惠,蘇恒雪,劉琬昕,李佩君,吳佩瑞,李宇平,張睿典,施均城,胡傑財,周志杰,李承秋,張柔玫,吳韻如,陳秀玲,黃雅君,潘淑敏,黃婉婷,邱少蕙,黃清添,阮羽其,張萱萍,潘心怡,林淑惠,李佩儒,戴聖龍,李建生,林郁丞,林苡真,吳舒妮,黃泰真,劉士堅,蔡彥廷,林建彰,冷惠雯,洪嘉心,顏宛蓉,連杰吉,張惠源,黃仰友,陳禹勇,陳鴻蓮,洪原天,黃雅凱,陳俊一,陳映沛,袁舜瑤,阮漢鴻,戴樂霞,高舒云,蔡懿瑋,朱振豪,沈財慈,張淑福,林子姍,周雲伯,陳修映,郭興彬,吳與山,李美珍,林珮君,林美慧,王阿禾,林嘉婷,彭毅芝,李政秋,林俊麟,王上其,黃碧白,郭郁雯,林子佳,劉至水,汪靜宜,張昀水,羅昱宏,李如君,吳淑萍,楊佳俊,張莉婷,楊剛陽,陳欣樺,蔡奕辰,陳禎志,全志琪,張志琪,簡韋廷,郭靜如,林信昆,楊群菁,陳昆伯,吳玉鳳,許文芝,林建霖,劉玫馨,趙慧婷,陳怡杰,陳昱旭,陳雅菁,葉靜怡,徐智傑,吳木興,張嘉祥,朱凱翔,倪光屏,劉漢琪,李芃玉,蔣啟麟,王宛真,張文彥,錢俊傑,張姿君,林政菱,黃玉紹,金家瑋,陳慧仲,吳靜亦,陳亭琇,賴志豪,米政哲,劉倫能,林孟璇,林奕翔,蔡亦儒,白奕廷,柳華陽,林進法,張雅雯,傅仕祥,李文福,王文昇,趙先仲,丁舒松,陳志峰,陽瑞良,許承穎,白孟璇,李佳正,林夢龍,洪元音,張嬌哲,吳勝俐,陳雅秀,蔡羿妏,鄧竣傑,謝仕銘,吳金冰,林禎政,宋仲修,姜韻昆,黃子臻,劉昱諭,姚淑貞,戴怡伶,李秀英,楊雅婷,王緯玫,王彥儒,黃與峰,蔡宛君,蕭廷杰,游賢天,鄭平郁,游湖玄,黃安昌,楊賢蓮,黃惠傑,林俊杰,黃雅芳,許淳妮,黃枝峰,盧婉君,張卓榮,王淑珍,顏禹貞,黃彥君,崔素蓮,楊欣玲,黃千珮,林丞樺,張信宏,阮常夢,曾宜珊,黃克岳,楊牧能,林勳昀,吳祐誠,陳舒涵,曾建輝,林雅云,黃奎堅,林美慧,陳善添,張科雅,林淑梅,曾明慧,王昱芬,王泓季,黃淑玲,黃秀揚,李玉為,吳靜發,林雅筑,陳家宏,葉宇翔,李家豪,張書書,陳正姍,洪其蓉,黃珮聖,裴苡虹,劉婉君,李宗達,陳美惠,楊雅男,諸鎮宇,陳奕萱,謝人宸,葉奕生,林裕靖,吳右淑,金文彥,汪芃弘,吳任昕,黃靜珠,姚宜婷,林韋一,葉佩儒,王君娟,柯韋雄,許德華,吳勝傑,李平威,陳紫琦,黃俊毅,林法豐,吳秉書,林彥順,張淑華,陳添婷,劉昶昕,涂育菁,汪羿青,侯郁文,吳淑吉,衡建彰,蔡尚緯,蔡政紹,朱靜雯,陳慧玉,許美慧,張文芳,施佩芬,陳啟貴,王柏鈞,李志豪,吳江忠,林珊吉,阮馨儀,劉雅琪,李尹志,朱彥君,郭怡芳,陳千蓁,錢茜人,蔡仁傑,鄭凱喜,劉士平,項瑋倫,吳婉瑜,王淑如,黃奕禾,張維陽,張雅義,吳佳芳,應子傑,林瑋博,王大順,孫怡如,鄒淑惠,張淑婷,蕭雅雪,劉郁婷,吳佳禾,李富學,羅秉邦,劉玉萍,余寧花,汪中貴,張佳玲,潘誠宏,鄭凱謙,黃建松,徐銘雪,李妙富,曹威天,許俐惟,劉佩君,吳欣瑞,李威斌,張俊嘉,張季仲,王宗清,巴子傑,陳慧佳,李宗琳,曹浩臻,吳雅琇,黃瓊珍,林家冰,謝麗雯,林素吟,翁家銘,賴淑娟,施賢竹,顏依潔,王雅妹,王豪佳,張雅宇,王宗憲,王雅琪,蔣士哲,林怡秀,吳雅婷,陳麗均,洪文彬,張佳燕,戴昱華,林彥智,鄭重博,胡昱宣,黃哲豪,楊瓊慧,陳淑貞,黃靜芳,楊怡君,黃昀蓉,黃郁婷,吳韻如,馮慧君,杜聖凱,張宗憲,彭伯行,李威廷,吳孟涵,林佳慧,馮怡菁,羅台岑,林正惟,葉人勳,林臻,毛淑芬,湯傑海,吳逸群,金冠伶,周蕙吉,郭奕廷,畢華山,姜茂書,賴姿卿,張哲銘,謝逸群,袁南孜,吳志文,陳怡菁,鄭怡婷,陳佑霖,林建正,王俊仁,趙榮旺,郭素洋,江依婷,張先甫,何怡廷,李千佐,游筱涵,陳哲貴,劉義喬,邱漢妏,陳吉禮,劉欣怡,蔡人豪,甘璇珠,蔡逸哲,江志穎,倪智平,翁軒豪,馬彥君,謝凡薇,穆宜真,吳綺卿,陸思穎,吳晴漢,戎俊宏,王哲嘉,張威寧,韓博鈞,楊湘婷,葉明輝,陳馨儀,陽志鴻,許進昀,桑彥伶,張凱中,蔡羽娥,殷家良,李財元,劉穎任,洪健喬,許建豪,張天琦,王詩隆,葉智強,馬佳燕,陳麗樺,潘康龍,孫依林,李易善,王芝淑,蔡孟諭,簡志映,王明儒,許怡君,韓佳琪,陳佩花,錢博文,陳佩璇,黃漢忠,刁敏昀,邱芸英,黃玉婷,楊珍彥,陳于駿,袁莉宇,姚育霖,謝丞綠,劉芳儀,李郁育,尚瑞山,曾伶靖,吳向鑫,魯雅云,馮淑慧,李冠中,劉淑芬,林竹幸,劉宜君,江炳冰,李培倫,李文凱,許依萍,方維哲,王旻琦,賴珮雯,謝瓊德,陳財亮,謝明紹,宋雨方,陸嘉君,楊薇平,蔡喬盛,杜姿瑩,張柏勳,楊逸群,盧佳芳,詹宏伶,譚萱芸,柴耀德,馮美娟,劉禹伶,陳俐玫,周水菁,張志偉,王素玟,王信豪,黃偉倫,陳怡婷,毛勳萱,吳淑娟,李育純,仇尚鴻,潘千珍,王景全,林守琦,王志盈,姚秉谷,劉家芳,朱雅婷,呂雯志,郭紹禮,錢義志,林健銘,楊吉均,阮至雲,毛孟佳,林俊珮,曹坤青,溫筠軒,陳俊霖,陳亭順,宋美珠,賴韋華,黃志偉,王山孜,王玉婷,茹文傑,賴凱翔,鄭雅筑,陳佳蓉,張奕興,鄭翔岑,許心怡,莫芳霖,許禎亮,廖家哲,邱俊伶,劉嘉宏,翁鈞彬,毛筱婷,陳冠玟,楊筱夫,蕭桂山,李仁傑,黃子陽,曾靖江,宋奕英,謝明名,李俊瑋,蔡佩麟,許郁湖,張振宇,陳亭友,林詩雅,廖冠霖,倪偉傑,王勝卉,林郁吟,許美君,周怡祥,黃宗翰,黃國財,林孟霞,王惠如,鄭凱玟,吳宗儒,林世白,王依婷,王美其,陳鎮宇,吳惠珠,倪堯宣,王勳玟,蔡淑娟,吳宛幸,沈姿妤,邱嘉雯,夏祖志,張明輝,林怡安,池兆珮,吳嘉文,吳俊雄,陳于婷,蔡海綸,吳茜原,陳文富,鐘仁傑,黃怡雯,陳淑全,謝玄苓,路湘婷,謝英傑,趙玉玲,劉彥冰,趙建宏,陳峻蓉,蔡佩祥,李佳年,溫湖亮,錢家豪,陳莉雯,吳宗玲,劉瑋倫,陳馨儀,陳智妹,黃怡萱,黃庭容,林欣瑜,張淑亦,靳靜怡,胡家銘,黃玉茜,郭柏毅,林裕信,吳建彰,柳佳蓉,翁菁珊,劉家弘,張維軍,姚靜宜,羅皓欣,傅旭如,王雅君,陳宜婷,劉俊凱,吳孟怡,李紫芬,鐘淑如,張展昀,陳姿沛',\r\n    randomCandidatePos: '總裁_o,副總裁,董事長_o,董事,監事,常務監事,總經理_o,副總經理,執行長_o,財務長_o,資訊長_o,知識長_o,營運長_o,技術長_o,顧問,特別助理,廠長,副廠長,協理,處長,副處長,經理,襄理,管理顧問,事業開發,行政經理,地區經理,高級會計,高級顧問,高級雇員,高級秘書,服務部經理,行政人員,職員,秘書,私人秘書,行政辦事員,財務主任,財務經理,審計長,會計部經理,會計主管,會計,稽核,財務,總務,人事部經理,人事部職員,人力資源,法務,法律顧問,採購,出納員,業務經理,業務主任,客服,網站管理專員,產品行銷,公關,外銷部經理,市場開發部經理,銷售助理,銷售主管,包裝設計師,生産部經理,生産線主管,研究開發工程師,應用工程師,化學工程師,機械工程師,采礦工程師,作業員,工程技術員,質量管理工程師,銷售助理,銷售主管,銷售部經理,銷售監管',\r\n    randomPrize: 'iPhone,iPad,Apple Watch,Macbook Pro,1000元獎金,3000元獎金,5000元獎金,10000元獎金,百貨公司 1000 禮券,百貨公司 2000 禮券,百貨公司 5000 禮券,電風扇,冰箱,冷氣,電鍋,氣炸鍋,微波爐,烤箱,60吋電視,升降桌,麻將,降噪耳機,80萬房車,關島五日遊,北海道十日遊,綠島兩日遊,太平島一日遊,百貨公司餐券,星巴克禮券,飯店住宿券,電影票兩張,高級腕表,特休五天,外接硬碟,抱枕,西提牛排,衛生紙兩條,A4紙一箱,雞蛋一盒,神戶牛排,高麗菜一顆,戰斧豬排,黃金一兩,健康檢查,Switch,PS5,公司股票1張,透氣風衣,跑鞋,行李箱,50年陳釀酒',\r\n    randomColor: '#FEE4CF,#FEC0DC,#FEADE7,#DCC1CD,#BBF9E5,#EECFFF,#C2D1FF,#ADD8FF,#C1C8DB,#FAF3BB,#D6FFCF,#FFFCC2,#FFE5AD,#DBDAC1,#DBDAC1',\r\n    randomBgImg: ',,,,,,https://i.imgur.com/fAjZSBu.jpeg,https://i.imgur.com/OWxB9yc.jpeg,https://i.imgur.com/HpGLGxS.png,https://i.imgur.com/icBnFXZ.jpeg,https://i.imgur.com/jWQBfJY.jpeg,https://i.imgur.com/UEhS7e8.jpeg,https://i.imgur.com/xKi1E4U.jpeg,https://i.imgur.com/car6vRJ.jpeg,https://i.imgur.com/3UsU1vC.jpeg,https://i.imgur.com/DAqlYwh.jpeg,https://i.imgur.com/i3WoA1A.png,https://i.imgur.com/qMMJnNn.jpeg,https://i.imgur.com/P4BIfKe.jpeg,https://i.imgur.com/rnpsd4E.jpeg,https://i.imgur.com/z4zVvX1.jpeg,https://i.imgur.com/kf7tkok.jpeg,https://i.imgur.com/Mnwr2x1.jpeg,https://i.imgur.com/qsqF8vr.jpeg,https://i.imgur.com/HiYxOs6.jpeg,https://i.imgur.com/nPfD8cm.jpeg,https://i.imgur.com/JdaVmOO.png,https://i.imgur.com/5yeBVeM.jpeg,https://i.imgur.com/dCS4tQk.jpeg,https://i.imgur.com/9wHVhck.jpeg,https://i.imgur.com/ZqoEU9o.jpeg,https://i.imgur.com/yD5I5WH.jpeg,https://i.imgur.com/JKNnuSE.jpeg,https://i.imgur.com/YwAmPYu.jpeg,https://i.imgur.com/T7NBjJm.jpeg,https://i.imgur.com/ujJ3g1k.jpeg,https://i.imgur.com/6Q9rDjW.jpeg,https://i.imgur.com/zfU3vsM.jpeg,https://i.imgur.com/pDLPvFj.jpeg,https://i.imgur.com/pDLPvFj.jpeg,https://i.imgur.com/YWgcovn.jpeg,https://i.imgur.com/L07HyvL.jpeg,https://i.imgur.com/ZyNbQn6.jpeg,https://i.imgur.com/JGFRHHa.jpeg,https://i.imgur.com/H8IpPH2.jpeg,https://i.imgur.com/oCsPYGj.png,https://i.imgur.com/X6Iu6iB.jpeg,https://i.imgur.com/B1AZqOb.jpeg,https://i.imgur.com/e10uiOY.png,https://i.imgur.com/j9jfxqt.png,https://i.imgur.com/SukExBO.png,https://i.imgur.com/Hjmsizi.png,https://i.imgur.com/c5NvSCc.jpeg,https://i.imgur.com/9WAotEY.jpeg,https://i.imgur.com/7VHqY7X.jpeg',\r\n    randomConfig: {\r\n        backgroundImg: '',\r\n        backgroundOpacity: 0.5,\r\n        boxHeight: 69,\r\n        boxWidth: 146,\r\n        defaultColor: '#FFFFCC',\r\n        defaultRunTime: 50,\r\n        doneColor: '#99F',\r\n        focusColor: '#FCCF',\r\n        headerColor: '#343a40',\r\n        subtitleSize: 16,\r\n        titleSize: 21,\r\n        isTutorial: true,\r\n    },\r\n\r\n    isTutorial: false,\r\n};","import { localStorage, popup, string, trackJS } from 'lib/common/util';\r\n\r\nexport default {\r\n    setFavicon(state, key){\r\n        document.querySelector('link[type=\"image/x-icon\"]').setAttribute('href', state.favicon[key]);\r\n    },\r\n\r\n    CheckAdBlock(state, data){\r\n        state.adBlocked = data;\r\n    },\r\n    /**\r\n     * 系統初始化\r\n     */\r\n    initSystem(state, params){\r\n        const luckyDrawSetting = localStorage.get('luckyDrawSetting', false);\r\n        const luckyDrawStorage = localStorage.get('luckyDrawStorage', {});\r\n        const luckyDrawKeyList = Object.keys(luckyDrawStorage);\r\n\r\n        if (!!luckyDrawSetting && 1) {\r\n            this.commit('triggerModal', { key: 'UpgradeData' });\r\n            // this.commit('upgradeLuckyDrawData', luckyDrawSetting);\r\n        } else if (luckyDrawKeyList.length === 0) {\r\n            this.commit('createDefaultLuckyDraw', []);\r\n        } else {\r\n            this.commit('setLuckyDrawChooseList', []);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * 舊結構轉成新結構\r\n     */\r\n    upgradeLuckyDrawData(state){\r\n        const params = localStorage.get('luckyDrawSetting', false);\r\n        const defaultConfig = JSON.parse(JSON.stringify(state.defaultConfig));\r\n        const { config, prizeList, shortlist, shortlist_sort } = params;\r\n        const luckyDrawFocusKey = string.getRandomString(20);\r\n\r\n        const newPrizeList = [];\r\n        const prizeMapping = {};\r\n\r\n        prizeList.forEach((prize_title) => {\r\n            const prize_sn = string.getRandomString(10);\r\n            newPrizeList.push({\r\n                prize_sn,\r\n                title: prize_title,\r\n                amount: 1,\r\n                del: false,\r\n            });\r\n            prizeMapping[prize_title] = prize_sn;\r\n        });\r\n\r\n\r\n        const prizeCount = {};\r\n        const candidateList = [];\r\n        const candidateMapping = {};\r\n\r\n        shortlist.forEach((shortInfo) => {\r\n            if (shortInfo.del === false) {\r\n                const sn = string.getRandomString(10);\r\n                const award = [];\r\n                shortInfo.award.forEach((prize_title) => {\r\n                    const prize_sn = prizeMapping[prize_title];\r\n                    award.push(prize_sn);\r\n                    if (!prizeCount[prize_sn]) {\r\n                        prizeCount[prize_sn] = 0;\r\n                    }\r\n                    prizeCount[prize_sn] += 1;\r\n                });\r\n\r\n                candidateList.push({\r\n                    sn,\r\n                    name: shortInfo.name,\r\n                    pos: shortInfo.pos,\r\n                    award,\r\n                    del: false,\r\n                });\r\n                candidateMapping[shortInfo.sn] = sn;\r\n            }\r\n        });\r\n\r\n        const candidateList_sort = [];\r\n        shortlist_sort.forEach((sn) => {\r\n            const new_sn = candidateMapping[sn];\r\n            candidateList_sort.push(new_sn);\r\n        });\r\n\r\n        newPrizeList.forEach((item) => {\r\n            item.amount = prizeCount[item.prize_sn] || 1;\r\n        });\r\n\r\n        if (!config.webTitle) {\r\n            config.webTitle = 'Lucky Draw';\r\n        }\r\n\r\n        state.luckyDrawFocusKey = luckyDrawFocusKey;\r\n        state.config = {\r\n            ...defaultConfig,\r\n            ...config,\r\n        };\r\n        state.prizeList = newPrizeList;\r\n        state.candidateList_sort = candidateList_sort;\r\n        state.candidateList = candidateList;\r\n\r\n        state.luckyDrawChooseList = [];\r\n        this.commit('formatHaveAwardCandidateSN');\r\n        localStorage.del('luckyDrawSetting');\r\n    },\r\n\r\n    /**\r\n     * 建立舊資料選單\r\n     */\r\n    setLuckyDrawChooseList(state){\r\n        const luckyDrawStorage = localStorage.get('luckyDrawStorage', {});\r\n        const luckyDrawChooseList = [];\r\n        Object.keys(luckyDrawStorage).forEach((key) => {\r\n            luckyDrawChooseList.push({\r\n                key,\r\n                title: luckyDrawStorage[key].config.webTitle,\r\n            });\r\n        });\r\n        state.luckyDrawChooseList = luckyDrawChooseList;\r\n    },\r\n\r\n    /**\r\n     * 建立一筆預設抽獎活動\r\n     */\r\n    createDefaultLuckyDraw(state, params){\r\n        trackJS.mixpanel('createDefaultLuckyDraw_trigger', params);\r\n        const luckyDrawFocusKey = string.getRandomString(20);\r\n\r\n        const config = JSON.parse(JSON.stringify(state.defaultConfig));\r\n        if (!!params.LuckyDrawName && 1) {\r\n            config.webTitle = params.LuckyDrawName;\r\n        }\r\n        const candidateList = [];\r\n        const candidateList_sort = [];\r\n        const prizeList = [];\r\n\r\n        state.luckyDrawFocusKey = luckyDrawFocusKey;\r\n        state.config = config;\r\n        state.candidateList = candidateList;\r\n        state.candidateList_sort = candidateList_sort;\r\n        state.prizeList = prizeList;\r\n\r\n        state.luckyDrawChooseList = [];\r\n        this.commit('formatHaveAwardCandidateSN');\r\n    },\r\n\r\n    /**\r\n     * 選擇抽獎活動\r\n     */\r\n    chooseLuckDrawFromStorage(state, key){\r\n        const luckyDrawStorage = localStorage.get('luckyDrawStorage', {});\r\n\r\n        if (luckyDrawStorage[key]) {\r\n            const { config, candidateList, candidateList_sort, prizeList } = luckyDrawStorage[key];\r\n\r\n            state.luckyDrawFocusKey = key;\r\n            state.config = {\r\n                ...config,\r\n                isTutorial: false,\r\n            };\r\n            state.candidateList = candidateList;\r\n            state.candidateList_sort = candidateList_sort;\r\n            state.prizeList = prizeList;\r\n\r\n            state.luckyDrawChooseList = [];\r\n            trackJS.mixpanel('LuckyDrawChooseResetData_trigger', { key, config, candidateList, candidateList_sort, prizeList });\r\n            this.commit('formatHaveAwardCandidateSN');\r\n        }\r\n    },\r\n\r\n    /**\r\n     * LocalStorage Listen 同步回 state\r\n     */\r\n    listenLocalStorageChange(state, params){\r\n        const { luckyDrawFocusKey } = state;\r\n        const luckyDrawStorage = localStorage.get('luckyDrawStorage', {});\r\n        if (!!luckyDrawStorage[luckyDrawFocusKey] && 1) {\r\n            const storage = luckyDrawStorage[luckyDrawFocusKey];\r\n            const LSData = {\r\n                config: JSON.parse(JSON.stringify(storage.config)),\r\n                candidateList: JSON.parse(JSON.stringify(storage.candidateList)),\r\n                candidateList_sort: JSON.parse(JSON.stringify(storage.candidateList_sort)),\r\n                prizeList: JSON.parse(JSON.stringify(storage.prizeList)),\r\n            };\r\n\r\n            const NowData = {\r\n                config: JSON.parse(JSON.stringify(state.config)),\r\n                candidateList: JSON.parse(JSON.stringify(state.candidateList)),\r\n                candidateList_sort: JSON.parse(JSON.stringify(state.candidateList_sort)),\r\n                prizeList: JSON.parse(JSON.stringify(state.prizeList)),\r\n            };\r\n\r\n            if (JSON.stringify(LSData) !== JSON.stringify(NowData)) {\r\n                trackJS.mixpanel('LuckyDrawLS_sync', { key: luckyDrawFocusKey, ...storage });\r\n                state.config = storage.config;\r\n                state.candidateList = storage.candidateList;\r\n                state.candidateList_sort = storage.candidateList_sort;\r\n                state.prizeList = storage.prizeList;\r\n                this.commit('formatHaveAwardCandidateSN');\r\n            }\r\n        }\r\n    },\r\n\r\n    /**\r\n     * 刪除抽獎活動\r\n     */\r\n    removeLuckDrawFromStorage(state, key){\r\n        const luckyDrawStorage = localStorage.get('luckyDrawStorage', {});\r\n        delete luckyDrawStorage[key];\r\n        localStorage.set('luckyDrawStorage', luckyDrawStorage);\r\n        this.commit('setLuckyDrawChooseList', []);\r\n    },\r\n\r\n    /**\r\n     * 儲存到 localStorage\r\n     */\r\n    saveToLocalStorage(state){\r\n        const luckyDrawStorage = localStorage.get('luckyDrawStorage', {});\r\n        const { luckyDrawFocusKey, config, candidateList, candidateList_sort, prizeList } = state;\r\n        luckyDrawStorage[luckyDrawFocusKey] = {\r\n            config,\r\n            candidateList,\r\n            candidateList_sort,\r\n            prizeList,\r\n        };\r\n        localStorage.set('luckyDrawStorage', luckyDrawStorage);\r\n    },\r\n\r\n    /**\r\n     * 設定列表\r\n     */\r\n    setConfig(state, params){\r\n        let config = JSON.parse(JSON.stringify(state.config));\r\n        config = { ...config, ...params.config };\r\n        state.config = config;\r\n    },\r\n\r\n    /**\r\n     * 清除此抽獎活動所有資訊\r\n     */\r\n    clearAllData(state, params){\r\n        const defaultConfig = JSON.parse(JSON.stringify(state.defaultConfig));\r\n        state.config = {\r\n            ...defaultConfig,\r\n            webTitle: state.config.webTitle,\r\n        };\r\n        // state.luckySN = [];\r\n        // state.shortlist = [];\r\n        // state.shortlist_sort = [];\r\n        // state.prizeList = [];\r\n\r\n        state.candidateList = [];\r\n        state.candidateList_sort = [];\r\n        state.prizeList = [];\r\n        state.focusCandidateSN = null;\r\n        state.focusPrizeSN = null;\r\n\r\n        this.commit('formatHaveAwardCandidateSN');\r\n    },\r\n\r\n    /**\r\n     * 開啟 Modal\r\n     */\r\n    triggerModal(state, params){\r\n        const { key } = params;\r\n        const triggerKey = `triggerOpen${key}`;\r\n        if (typeof state[triggerKey] !== 'undefined') {\r\n            if (typeof params.close === 'undefined') {\r\n                state[triggerKey] = new Date().getTime();\r\n            } else {\r\n                state[triggerKey] = false;\r\n            }\r\n\r\n        }\r\n    },\r\n\r\n    /**\r\n     * 儲存候選人列表\r\n     */\r\n    setCandidateListInput(state, params){\r\n        const { candidateListInput } = params;\r\n        let candidateList = JSON.parse(JSON.stringify(state.candidateList));\r\n        let candidateList_sort = JSON.parse(JSON.stringify(state.candidateList_sort));\r\n\r\n\r\n        const candidateListInputObj = {};\r\n        candidateListInput.split('\\n').map((data) => {\r\n            const info = data.split(',').map(text => text.trim());\r\n\r\n            const Obj = {\r\n                name: info[0],\r\n                pos: info[1] || '',\r\n            };\r\n            return Obj;\r\n        }).forEach((data) => {\r\n            if (data.name) {\r\n                candidateListInputObj[`${data.name}`] = data;\r\n                return !!data.name;\r\n            }\r\n            return true;\r\n        });\r\n\r\n        const matchName = [];\r\n        candidateList = candidateList.map((data) => {\r\n            const info = data;\r\n            info.del = !candidateListInputObj[info.name];\r\n            if (!info.del) {\r\n                matchName.push(info.name);\r\n                info.pos = candidateListInputObj[info.name].pos;\r\n                if (!candidateList_sort.includes(info.sn)) {\r\n                    candidateList_sort.push(info.sn);\r\n                }\r\n            } else {\r\n                candidateList_sort = candidateList_sort.filter(sn => sn !== data.sn);\r\n            }\r\n            return info;\r\n        });\r\n\r\n        Object.keys(candidateListInputObj).forEach((key) => {\r\n            const info = candidateListInputObj[key];\r\n            if (!matchName.includes(info.name)) {\r\n                const sn = string.getRandomString(10);\r\n                candidateList.push({\r\n                    sn,\r\n                    name: info.name,\r\n                    pos: info.pos,\r\n                    award: [],\r\n                    del: false,\r\n                });\r\n                candidateList_sort.push(sn);\r\n            }\r\n        });\r\n        state.candidateList = candidateList;\r\n        state.candidateList_sort = candidateList_sort;\r\n        this.commit('formatHaveAwardCandidateSN');\r\n    },\r\n\r\n    /**\r\n     * 建立亂數候選人\r\n     */\r\n    setCandidateListRandomSort(state, params){\r\n        const candidateList = JSON.parse(JSON.stringify(state.candidateList));\r\n        const candidateListSN = candidateList.filter(data => !data.del).map(data => data.sn);\r\n\r\n        const loopTime = candidateListSN.length;\r\n        const candidateListSN_new = [];\r\n        for (let i = 0; i < loopTime; i += 1) {\r\n            const { length } = candidateListSN;\r\n            const index = parseInt((Math.random() * 100) % length);\r\n            candidateListSN_new.push(candidateListSN[index]);\r\n            candidateListSN.splice(index, 1);\r\n        }\r\n\r\n        state.candidateList_sort = candidateListSN_new;\r\n    },\r\n\r\n    /**\r\n     * 設定候選人資訊\r\n     */\r\n    setCandidateInfo(state, params){\r\n        const candidateList = JSON.parse(JSON.stringify(state.candidateList));\r\n        let index = false;\r\n        candidateList.forEach((candidateInfo, candidateIndex) => {\r\n            if (candidateInfo.sn === params.sn) {\r\n                index = candidateIndex;\r\n            }\r\n        });\r\n\r\n        if (index !== false) {\r\n            candidateList[index] = {\r\n                ...candidateList[index],\r\n                ...params,\r\n            };\r\n        }\r\n        state.candidateList = candidateList;\r\n    },\r\n\r\n    /**\r\n     * 同步禮物資訊\r\n     */\r\n    syncPrizeList(state, params){\r\n        state.prizeList = JSON.parse(JSON.stringify(params));\r\n    },\r\n\r\n    /**\r\n     * 設定 focus 候選人 SN\r\n     */\r\n    setFocusCandidateSN(state, params){\r\n        state.focusCandidateSN = params;\r\n    },\r\n\r\n    /**\r\n     * 設定 focus 獎項 SN\r\n     */\r\n    setFocusPrizeSN(state, params){\r\n        state.focusPrizeSN = params;\r\n    },\r\n\r\n    /**\r\n     * 更新中獎名單\r\n     */\r\n    formatHaveAwardCandidateSN(state){\r\n        const ValidatePrizeSN = [];\r\n        const haveAwardCandidateSN = [];\r\n\r\n        state.prizeList.forEach((item) => {\r\n            if (!!item && item.del === false) {\r\n                ValidatePrizeSN.push(item.prize_sn);\r\n            }\r\n        });\r\n\r\n        state.candidateList.forEach((candidateInfo) => {\r\n            if (candidateInfo.del === false && candidateInfo.award) {\r\n                let award = false;\r\n                candidateInfo.award.forEach((prize_sn) => {\r\n                    if (ValidatePrizeSN.includes(prize_sn)) {\r\n                        award = true;\r\n                    }\r\n                });\r\n                if (award === true) {\r\n                    haveAwardCandidateSN.push(candidateInfo.sn);\r\n                }\r\n            }\r\n        });\r\n\r\n        state.haveAwardCandidateSN = haveAwardCandidateSN;\r\n    },\r\n\r\n    /**\r\n     * 綁定獎項與候選人\r\n     */\r\n    setFocusCandidateBindPrize(state, params){\r\n        const candidateList = JSON.parse(JSON.stringify(state.candidateList));\r\n        const { prize_sn, candidate_sn } = params;\r\n        let focusIndex = false;\r\n        candidateList.forEach((item, index) => {\r\n            if (candidate_sn === item.sn) {\r\n                focusIndex = index;\r\n            }\r\n        });\r\n\r\n        if (focusIndex !== false) {\r\n            candidateList[focusIndex].award.push(prize_sn);\r\n        }\r\n\r\n        state.focusPrizeSN = false;\r\n        state.focusCandidateSN = false;\r\n        state.candidateList = candidateList;\r\n        this.commit('formatHaveAwardCandidateSN');\r\n    },\r\n\r\n    /**\r\n     * 隨機建立抽獎資訊\r\n     */\r\n    createRandomLuckyDraw(state){\r\n        const randomCandidateNames = state.randomCandidateNames.split(',');\r\n        const randomCandidatePos = state.randomCandidatePos.split(',');\r\n        const randomPrize = state.randomPrize.split(',');\r\n        const randomColor = state.randomColor.split(',');\r\n        const randomBgImg = state.randomBgImg.split(',');\r\n        const randomConfig = JSON.parse(JSON.stringify(state.randomConfig));\r\n        const config = JSON.parse(JSON.stringify(state.config));\r\n\r\n        const getRandomCandidateName = () => {\r\n            const index = string.randRange(0, randomCandidateNames.length - 1);\r\n            const name = randomCandidateNames.splice(index, 1);\r\n            return name[0];\r\n        };\r\n\r\n        const getRandomPrize = () => {\r\n            const index = string.randRange(0, randomPrize.length - 1);\r\n            const name = randomPrize.splice(index, 1);\r\n            return name[0];\r\n        };\r\n\r\n        const getRandomColor = () => {\r\n            const index = string.randRange(0, randomColor.length - 1);\r\n            const name = randomColor.splice(index, 1);\r\n            return name[0];\r\n        };\r\n\r\n        const getRandomBgImg = () => {\r\n            const index = string.randRange(0, randomBgImg.length - 1);\r\n            const name = randomBgImg.splice(index, 1);\r\n            return name[0];\r\n        };\r\n\r\n        const getRandomCandidatePos = () => {\r\n            const index = string.randRange(0, randomCandidatePos.length - 1);\r\n            let pos = randomCandidatePos[index];\r\n            if (pos.includes('_o')) {\r\n                pos = pos.replace('_o', '');\r\n                randomCandidatePos.splice(index, 1);\r\n            }\r\n            return pos;\r\n        };\r\n\r\n        randomConfig.defaultColor = getRandomColor();\r\n        randomConfig.doneColor = getRandomColor();\r\n        randomConfig.focusColor = getRandomColor();\r\n        randomConfig.titleSize = string.randRange(15, 25);\r\n        randomConfig.subtitleSize = string.randRange(randomConfig.titleSize - 10, randomConfig.titleSize - 5);\r\n        randomConfig.defaultRunTime = string.randRange(10, 100);\r\n        randomConfig.backgroundImg = getRandomBgImg();\r\n        randomConfig.boxMV = string.randRange(3, 30);\r\n        randomConfig.boxMH = string.randRange(3, 30);\r\n\r\n        const CandidateCount = string.randRange(10, 60);\r\n        const candidateList = [];\r\n        for (let i = 0; i < CandidateCount; i++) {\r\n            const sn = string.getRandomString(10);\r\n            candidateList.push({\r\n                sn,\r\n                name: getRandomCandidateName(),\r\n                pos: getRandomCandidatePos(),\r\n                award: [],\r\n                del: false,\r\n            });\r\n        }\r\n\r\n        const PrizeCount = string.randRange(5, 20);\r\n        const prizeList = [];\r\n        for (let i = 0; i < PrizeCount; i++) {\r\n            const prize_sn = string.getRandomString(10);\r\n            prizeList.push({\r\n                prize_sn,\r\n                title: getRandomPrize(),\r\n                amount: string.randRange(1, 10),\r\n                del: false,\r\n            });\r\n        }\r\n\r\n        state.candidateList = candidateList;\r\n        state.luckyDrawIsRandom = true;\r\n        state.prizeList = prizeList;\r\n        state.config = {\r\n            ...config,\r\n            ...randomConfig,\r\n        };\r\n        this.commit('formatHaveAwardCandidateSN');\r\n        this.commit('setCandidateListRandomSort');\r\n    },\r\n\r\n\r\n    setIsTutorial(state, bool){\r\n        state.isTutorial = !!bool;\r\n    },\r\n};","import common from './common.js';\r\nexport default {\r\n    common: {...common},\r\n}","import common from './common.js';\r\nexport default {\r\n    common: {...common},\r\n}","export default {\r\n    adBlocked: state => state.adBlocked,\r\n    favicon: state => state.favicon,\r\n\r\n    config: state => state.config,\r\n\r\n    /**\r\n     * 舊抽獎活動選單\r\n     */\r\n    luckyDrawChooseList: state => state.luckyDrawChooseList,\r\n\r\n    luckyDrawFocusKey: state => state.luckyDrawFocusKey,\r\n\r\n    luckyDrawIsRandom: state => state.luckyDrawIsRandom,\r\n\r\n    /**\r\n     * 重新排序的列表\r\n     */\r\n    candidateListBySort(state){\r\n        const candidateList = JSON.parse(JSON.stringify(state.candidateList));\r\n        const candidateListMapping = {};\r\n        candidateList.forEach((item) => {\r\n            candidateListMapping[item.sn] = item;\r\n        });\r\n        const candidateList_sort = JSON.parse(JSON.stringify(state.candidateList_sort));\r\n        const data = candidateList_sort.map(sn => candidateListMapping[sn]);\r\n\r\n        return data;\r\n    },\r\n\r\n    /**\r\n     * 候選人列表\r\n     */\r\n    candidateList: state => state.candidateList,\r\n\r\n    /**\r\n     * 候選人對應表\r\n     */\r\n    candidateMapping(state){\r\n        const candidateMapping = {};\r\n        const candidateList = JSON.parse(JSON.stringify(state.candidateList));\r\n        candidateList.forEach((item) => {\r\n            candidateMapping[item.sn] = item;\r\n        });\r\n        return candidateMapping;\r\n    },\r\n\r\n    /**\r\n     * 候選人列表亂數排序\r\n     */\r\n    candidateList_sort: state => state.candidateList_sort,\r\n\r\n\r\n    /**\r\n     * 開啟候選人列表\r\n     */\r\n    triggerOpenCandidateList: state => state.triggerOpenCandidateList,\r\n\r\n    /**\r\n     * 開啟抽獎列表\r\n     */\r\n    triggerOpenGetLucky: state => state.triggerOpenGetLucky,\r\n\r\n    /**\r\n     * 開啟設定\r\n     */\r\n    triggerOpenSetting: state => state.triggerOpenSetting,\r\n\r\n    /**\r\n     * 開啟獎品列表\r\n     */\r\n    triggerOpenPrizeList: state => state.triggerOpenPrizeList,\r\n\r\n    /**\r\n     * 開啟中獎訊息\r\n     */\r\n    triggerOpenLucky: state => state.triggerOpenLucky,\r\n\r\n    /**\r\n     * 開啟結果頁面\r\n     */\r\n    triggerOpenResult: state => state.triggerOpenResult,\r\n\r\n    /**\r\n     * 開啟資料轉換\r\n     */\r\n    triggerOpenUpgradeData: state => state.triggerOpenUpgradeData,\r\n\r\n    /**\r\n     * 獎品列表\r\n     */\r\n    prizeList(state){\r\n        return state.prizeList.filter((item) => {\r\n            return !!item && item.del === false;\r\n        });\r\n        // return state.prizeList.filter(item => item.del === false);\r\n    },\r\n\r\n    /**\r\n     * 獎勵與中獎人\r\n     */\r\n    prizeListByAward(state){\r\n        const candidateList = JSON.parse(JSON.stringify(state.candidateList));\r\n        const prizeList = JSON.parse(JSON.stringify(state.prizeList));\r\n\r\n        const prizeListCount = {};\r\n        candidateList.forEach((candidate) => {\r\n            if (candidate.del === false) {\r\n                candidate.award.forEach((prize_sn) =>{\r\n                    if (!prizeListCount[prize_sn]) {\r\n                        prizeListCount[prize_sn] = 0;\r\n                    }\r\n                    prizeListCount[prize_sn] += 1;\r\n                });\r\n            }\r\n        });\r\n\r\n        const prizeListByAward = [];\r\n        prizeList.forEach((prizeInfo) => {\r\n            if (prizeInfo.del === false) {\r\n                prizeInfo.count = prizeListCount[prizeInfo.prize_sn] || 0;\r\n                prizeListByAward.push(prizeInfo);\r\n            }\r\n        });\r\n        return prizeListByAward;\r\n    },\r\n\r\n    /**\r\n     * 獎勵對應表\r\n     */\r\n    prizeMapping(state){\r\n        const prizeList = JSON.parse(JSON.stringify(state.prizeList));\r\n        const prizeMapping = {};\r\n        prizeList.forEach((item, index) => {\r\n            if (item.del === false) {\r\n                item.index = index;\r\n                prizeMapping[item.prize_sn] = item;\r\n            }\r\n        });\r\n        return prizeMapping;\r\n    },\r\n\r\n    /**\r\n     * 正在抽的人\r\n     */\r\n    focusCandidateSN: state => state.focusCandidateSN,\r\n\r\n    /**\r\n     * 正在抽的獎項\r\n     */\r\n    focusPrizeSN: state => state.focusPrizeSN,\r\n\r\n    /**\r\n     * 已經抽到獎的候選人\r\n     */\r\n    haveAwardCandidateSN: state => state.haveAwardCandidateSN,\r\n\r\n    /**\r\n     * 抽獎跑循環等待時間\r\n     */\r\n    getLuckyWaitTimeArr: state => state.getLuckyWaitTimeArr,\r\n\r\n\r\n    /**\r\n     * 有效的候選人\r\n     */\r\n    validCandidateListSN(state){\r\n        const candidateList = JSON.parse(JSON.stringify(state.candidateList));\r\n        const luckySN = JSON.parse(JSON.stringify(state.luckySN));\r\n\r\n\r\n        const validSN = candidateList.filter(data => !luckySN.includes(data.sn) && !data.del).map(data => data.sn);\r\n\r\n        return validSN;\r\n    },\r\n\r\n    randomCandidateNames: state => state.randomCandidateNames,\r\n    randomCandidatePos: state => state.randomCandidatePos,\r\n    randomPrize: state => state.randomPrize,\r\n    randomBgImg: state => state.randomBgImg,\r\n\r\n    isTutorial: state => state.isTutorial,\r\n};","import Vue from 'vue';\r\nimport Vuex from 'vuex';\r\n\r\nimport actionsStorage from './actions/index';\r\nimport stateStorage from './state/index';\r\nimport mutationsStorage from './mutations/index';\r\nimport gettersStorage from './getters/index';\r\n\r\n\r\nVue.use(Vuex);\r\nexport default {\r\n}\r\n\r\nexport const createStore = (params) => {\r\n    let actions = {};\r\n    let state = {};\r\n    let mutations = {};\r\n    let getters = {};\r\n\r\n    params.forEach(function(key){\r\n        let keys = key.split(\".\");\r\n        let tmpActions = {...actionsStorage};\r\n        let tmpState = {...stateStorage};\r\n        let tmpMutations = {...mutationsStorage};\r\n        let tmpGetters = {...gettersStorage};\r\n        while ( keys.length > 0 ) {\r\n            key = keys.shift();\r\n\r\n            if ([undefined].indexOf(tmpActions[key]) == -1) {\r\n                 tmpActions = tmpActions[key];\r\n            }\r\n\r\n            if ([undefined].indexOf(tmpState[key]) == -1) {\r\n                 tmpState = tmpState[key];\r\n            }\r\n\r\n            if ([undefined].indexOf(tmpMutations[key]) == -1) {\r\n                 tmpMutations = tmpMutations[key];\r\n            }\r\n\r\n            if ([undefined].indexOf(tmpGetters[key]) == -1) {\r\n                 tmpGetters = tmpGetters[key];\r\n            }\r\n        }\r\n        actions = Object.assign({}, actions, tmpActions);\r\n        state = Object.assign({}, state, tmpState);\r\n        mutations = Object.assign({}, mutations, tmpMutations);\r\n        getters = Object.assign({}, getters, tmpGetters);\r\n    });\r\n\r\n    // if ([null, undefined].indexOf(jsVars.debug) == -1 && jsVars.debug == 1) {\r\n    //     // console.log({...actions}, {...state}, {...mutations}, {...getters});\r\n    // }\r\n\r\n    return new Vuex.Store({\r\n      actions,\r\n      state,\r\n      mutations,\r\n      getters,\r\n      struct: true\r\n    })\r\n};","import Vue from 'vue';\r\nimport $ from 'jquery';\r\nimport 'vendor/imgLiquid/imgLiquid';\r\nimport { jsVars } from 'lib/common/util';\r\n\r\nVue.config.debug = process.env.NODE_ENV !== 'production';\r\nVue.config.devtools = process.env.NODE_ENV !== 'production';\r\n\r\n/* 全頁偵測 resize Image */\r\nlet resizeImageTimer = null;\r\n$('body').on('resizeImg', () => {\r\n    clearTimeout(resizeImageTimer);\r\n    resizeImageTimer = setTimeout(() => {\r\n        $('.imgLiquidFill').imgLiquid();\r\n    }, 50);\r\n});\r\n\r\n\r\nconst { origin, pathname } = window.location;\r\nconst BASE_API_HOST = `${origin}${pathname}`;\r\njsVars.set('API_CONFIG.API_HOST', BASE_API_HOST);\r\njsVars.set('ASSETS_HOST', BASE_API_HOST);","import Vue from 'vue';\r\nimport { mapGetters } from 'vuex';\r\n\r\n\r\nimport { createStore } from 'lib/store/index';\r\nimport { jsVars } from 'lib/common/util';\r\nimport app from './app';\r\n\r\nimport 'jquery';\r\nimport 'bootstrap';\r\n\r\n\r\nconst store = createStore([\r\n    'common',\r\n]);\r\n\r\nconst Page = new Vue({\r\n    el: '#appBox',\r\n    components: {\r\n        MainPage: () => import('components/MainPage/main.vue'),\r\n    },\r\n    data(){\r\n        return {\r\n            input: 'here',\r\n        };\r\n    },\r\n    computed: {\r\n        ...mapGetters([\r\n        ]),\r\n    },\r\n    watch: {\r\n\r\n    },\r\n    mounted(){\r\n    },\r\n    methods: {\r\n        init(){\r\n        },\r\n    },\r\n    store,\r\n});","import string_module from './util/string';\r\nimport history_route_module from './util/history_route';\r\nimport mixpanel_module from './util/mixpanel';\r\nimport jsVars_module from './util/jsVars';\r\nimport popup_module from './util/popup';\r\nimport localStorage_module from './util/localStorage';\r\nimport linkRegister_module from './util/linkRegister';\r\nimport trackJS_module from './util/trackJS';\r\nimport tutorial_module from './util/tutorial';\r\n\r\n\r\nconst util = {\r\n    string: string_module,\r\n    history_route: history_route_module,\r\n    mixpanel: mixpanel_module,\r\n    jsVars: jsVars_module,\r\n    popup: popup_module,\r\n    localStorage: localStorage_module,\r\n    linkRegister: linkRegister_module,\r\n    trackJS: trackJS_module,\r\n    Tutorial: tutorial_module,\r\n};\r\n\r\nexport const string = string_module;\r\nexport const history_route = history_route_module;\r\nexport const mixpanel = mixpanel_module;\r\nexport const jsVars = jsVars_module;\r\nexport const popup = popup_module;\r\nexport const localStorage = localStorage_module;\r\nexport const linkRegister = linkRegister_module;\r\nexport const trackJS = trackJS_module;\r\nexport const Tutorial = tutorial_module;\r\nexport default util;\r\n","const history_route = {\r\n    init(params){\r\n        const that = this;\r\n        that.popstate_callback = null;\r\n        if (params.callback) {\r\n            that.popstate_callback = params.callback;\r\n        }\r\n\r\n        that.baseUrl = window.location.origin;\r\n        that.setLocation();\r\n        that.setAction();\r\n    },\r\n    setAction(){\r\n        const that = this;\r\n        let timer = null;\r\n\r\n        window.onpopstate = function(){\r\n            clearTimeout(timer);\r\n            timer = setTimeout(() => {\r\n                if (typeof (that.popstate_callback) === 'function') {\r\n                    that.popstate_callback(that.location);\r\n                    that.setLocation();\r\n                }\r\n            }, 500);\r\n        };\r\n    },\r\n    diffUrl(url){\r\n        const that = this;\r\n        const tmplink = document.createElement('a');\r\n        tmplink.href = url;\r\n\r\n        const link = {\r\n            pathname: tmplink.pathname,\r\n            search: tmplink.search.substr(1),\r\n            hash: tmplink.hash.substr(1),\r\n        };\r\n\r\n        let diff = false;\r\n        ['pathname', 'search', 'hash'].forEach((key) => {\r\n            if (link[key] != that.location[key]) {\r\n                diff = true;\r\n            }\r\n        });\r\n        return diff;\r\n    },\r\n    pushState(state, title, url){\r\n        const that = this;\r\n\r\n        if (that.diffUrl(url)) {\r\n            window.history.pushState(state, title, url);\r\n            this.setLocation();\r\n        }\r\n    },\r\n    replaceState(state, title, url){\r\n        window.history.replaceState(state, title, url);\r\n        this.setLocation();\r\n    },\r\n    setLocation(){\r\n        const that = this;\r\n        this.location = {};\r\n        this.location.pathname = window.location.pathname.replace(that.baseUrl, '');\r\n\r\n        if (window.location.search) {\r\n            this.location.search = window.location.search.substr(1);\r\n        } else {\r\n            this.location.search = '';\r\n        }\r\n\r\n        if (window.location.hash) {\r\n            this.location.hash = window.location.hash.substr(1);\r\n        } else {\r\n            this.location.hash = '';\r\n        }\r\n    },\r\n};\r\n\r\n\r\nexport default history_route;","/* eslint-disable no-extra-boolean-cast */\r\n/* eslint-disable no-param-reassign */\r\n/* eslint-disable no-restricted-syntax */\r\nlet jsVarsStorage = JSON.parse(JSON.stringify(window.jsVars));\r\n\r\nconst main = {\r\n    set($key, $value = null, $merge = true){\r\n        if (typeof ($key) === 'string') {\r\n            const $newKey = {};\r\n            $newKey[$key] = $value;\r\n            $key = $newKey;\r\n        }\r\n\r\n        for (const $arrayKey in $key) {\r\n            const $arrayValue = $key[$arrayKey];\r\n            main._set($arrayKey, $arrayValue, $merge);\r\n        }\r\n\r\n        main._deployJsVars();\r\n        return $value;\r\n    },\r\n    get($key, $defaultValue){\r\n        if (!!$key) {\r\n            const getValue = main._get($key);\r\n            if (!!getValue) {\r\n                return getValue;\r\n            }\r\n\r\n            if (typeof $defaultValue !== 'undefined') {\r\n                return $defaultValue;\r\n            }\r\n\r\n            return getValue;\r\n        }\r\n        return JSON.parse(JSON.stringify(jsVarsStorage));\r\n    },\r\n    _set($key, $value, $merge = true){\r\n        let $array = jsVarsStorage;\r\n\r\n        if (!$key) {\r\n            jsVarsStorage = $value;\r\n            return jsVarsStorage;\r\n        }\r\n\r\n        const $keys = $key.split('.');\r\n        while ($keys.length > 1) {\r\n            $key = $keys.shift();\r\n\r\n            if (!$array[$key]) {\r\n                $array[$key] = {};\r\n            }\r\n\r\n            $array = $array[$key];\r\n        }\r\n        /* 需要有 merge 功能 */\r\n        if ($merge) {\r\n            /* 取最後一筆 */\r\n            const $lastKey = $keys.shift();\r\n            /* 如果被已經存在 */\r\n            if (!!$array[$lastKey]) {\r\n                if (typeof ($value) === 'object') {\r\n                    $array[$lastKey] = { ...$array[$lastKey], ...$value };\r\n                } else {\r\n                    $array[$lastKey] = $value;\r\n                }\r\n            } else {\r\n                $array[$lastKey] = $value;\r\n            }\r\n        } else {\r\n            /* 直接蓋過去 */\r\n            const $lastKey = $keys.shift();\r\n            $array[$lastKey] = $value;\r\n        }\r\n\r\n        return $array;\r\n    },\r\n    _get($key){\r\n        let $array = JSON.parse(JSON.stringify(jsVarsStorage));\r\n\r\n        /* 拆解 $key 取到最後一層 */\r\n        const $keys = $key.split('.');\r\n\r\n        while ($keys.length > 1) {\r\n            /* 取一筆 */\r\n            $key = $keys.shift();\r\n\r\n            /* 如果不存在 定義起來  */\r\n            if (!$array[$key]) {\r\n                $array[$key] = false;\r\n            } else {\r\n                $array = $array[$key];\r\n            }\r\n        }\r\n\r\n        $key = $keys.shift();\r\n        if (!!$array[$key]) {\r\n            return $array[$key];\r\n        }\r\n        return false;\r\n    },\r\n    _deployJsVars(){\r\n        window.jsVars = JSON.parse(JSON.stringify(jsVarsStorage));\r\n    },\r\n};\r\nexport default main;","/* eslint-disable no-unused-vars */\r\n/* eslint-disable prefer-destructuring */\r\n/* eslint-disable no-param-reassign */\r\nimport jsVars from './jsVars';\r\nimport { getJsonFromUrl, object2QueryStr } from './string';\r\n\r\n\r\nconst main = {\r\n    linkVersionBlackList: ['canonical'],\r\n    getLinkHref(){\r\n        const links = document.querySelectorAll('link');\r\n        const hrefArray = [];\r\n        for (const item of links) {\r\n            hrefArray.push(item.href);\r\n        }\r\n\r\n        return hrefArray;\r\n    },\r\n    register(link){\r\n        const that = this;\r\n        let linkArray = [];\r\n\r\n        if (Array.isArray(link)) {\r\n            const linkNew = link.map((item) => {\r\n                if (!item.href) {\r\n                    item.href = '';\r\n                }\r\n                return item;\r\n            });\r\n            linkArray = linkArray.concat(link);\r\n        } else if (typeof style === 'object') {\r\n            if (!link.href) {\r\n                link.href = '';\r\n            }\r\n            linkArray.push(link);\r\n        } else if (typeof style === 'string') {\r\n            linkArray.push({\r\n                href: link,\r\n            });\r\n        }\r\n\r\n        const existHrefArray = this.getLinkHref();\r\n\r\n        linkArray.forEach((Link) => {\r\n            const linkObj = Link;\r\n            linkObj.href = that.url(linkObj.href);\r\n\r\n            // if (!(!!linkObj.rel && that.linkVersionBlackList.includes(linkObj.rel))) {\r\n            //     linkObj.href = that.bind_version(linkObj.href);\r\n            // }\r\n\r\n            if (!existHrefArray.includes(linkObj.href)) {\r\n                const dom = that.createHtmlTag('link', linkObj);\r\n                const head = document.querySelector('head');\r\n                if (!!head && 1) {\r\n                    head.appendChild(dom);\r\n                } else {\r\n                    console.log('head 不存在');\r\n                }\r\n            } else {\r\n                console.log('已存在：', linkObj.href);\r\n                if (typeof linkObj.onload === 'function') {\r\n                    linkObj.onload();\r\n                }\r\n            }\r\n        });\r\n    },\r\n\r\n    url(urlTmp){\r\n        const ASSETS_HOST = jsVars.get('ASSETS_HOST');\r\n        let url = urlTmp;\r\n        const regExp = new RegExp(/(http|https):\\/\\//);\r\n\r\n        if (regExp.test(url)) {\r\n            return url;\r\n        }\r\n\r\n        return `${ASSETS_HOST}${url}`;\r\n    },\r\n\r\n    bind_version(hrefTmp){\r\n        let href = hrefTmp;\r\n\r\n        const { hostname } = window.location;\r\n\r\n        if (href.indexOf(hostname) !== -1) {\r\n            href = href.replace('[WEB_VER]', WEB_VER);\r\n\r\n            if (WEB_VER === 'dev') {\r\n                const a = document.createElement('a');\r\n                a.href = href;\r\n                const search = getJsonFromUrl(a.search.substr(1));\r\n                search.v = WEB_VER_TIME;\r\n                a.search = object2QueryStr(search);\r\n                href = a.href;\r\n            } else if (!!ASSETS_HOST && 1) {\r\n                const a = document.createElement('a');\r\n                a.href = href;\r\n                a.host = ASSETS_HOST;\r\n                href = a.href;\r\n            }\r\n        }\r\n\r\n        return href;\r\n    },\r\n\r\n    createHtmlTag(tag, obj){\r\n        const tagDom = document.createElement(tag);\r\n        for (const key in obj) {\r\n            tagDom[key] = obj[key];\r\n        }\r\n        return tagDom;\r\n    },\r\n};\r\n\r\nexport default main;","/* eslint-disable no-unused-vars */\r\n/* eslint-disable no-param-reassign */\r\n/* eslint-disable no-plusplus */\r\n/* eslint-disable no-useless-escape */\r\n/* eslint-disable no-extra-boolean-cast */\r\n\r\nconst main = {\r\n    callbackStorage: {},\r\n    init(){\r\n        const that = this;\r\n        if (!that.storage) {\r\n            that.storage = window.localStorage;\r\n\r\n            window.addEventListener('storage', (e) => {\r\n                const { key } = e;\r\n                if (!!that.callbackStorage[key]) {\r\n                    const val = that.get(key);\r\n                    that.callbackStorage[key](val);\r\n                }\r\n            });\r\n\r\n            that.clear_PPOldData();\r\n        }\r\n    },\r\n    set(key, data, merge){\r\n        const that = this;\r\n        that.init();\r\n        if (!!merge) {\r\n            const default_data = that.get(key, {});\r\n            data = { ...default_data, ...data };\r\n        }\r\n        that.storage.setItem(key, JSON.stringify(data));\r\n        return true;\r\n    },\r\n    push(key, data){\r\n        const that = this;\r\n        let default_data = that.get(key, []);\r\n        if (!Array.isArray(default_data)) {\r\n            default_data = [];\r\n        }\r\n        default_data.push(data);\r\n        that.storage.setItem(key, JSON.stringify(default_data));\r\n        return true;\r\n    },\r\n    get(key, defaultData){\r\n        const that = this;\r\n        that.init();\r\n        let data = that.storage.getItem(key);\r\n        if (!!data) {\r\n            data = JSON.parse(data);\r\n            return data;\r\n        }\r\n\r\n        if (typeof defaultData !== 'undefined') {\r\n            return defaultData;\r\n        }\r\n        return false;\r\n    },\r\n    del(key){\r\n        const that = this;\r\n        that.storage.removeItem(key);\r\n    },\r\n    listen(key, callback){\r\n        const that = this;\r\n        that.callbackStorage[key] = callback;\r\n    },\r\n    clear_PPOldData(){\r\n        const that = this;\r\n        const regex = new RegExp('timeline\\.[A-Z0-9_]{1,}\\.tmp', 'ig');\r\n        const now = new Date().getTime();\r\n        const limitTime = (now - 86400 * 7);\r\n        let count = 0;\r\n\r\n        for (let i = 0, len = localStorage.length; i < len; ++i) {\r\n            const key = that.storage.key(i);\r\n            if (regex.test(key)) {\r\n                const data = that.get(key);\r\n                if (data.update_time < limitTime) {\r\n                    count += 1;\r\n                    that.del(key);\r\n                }\r\n            }\r\n        }\r\n    },\r\n};\r\n\r\nmain.init();\r\n// const data = {\"timeline_key\":\"\",\"from\":\"local\",\"update_time\":\"1559287484343\",\"timeline_title\":\"\",\"release_time\":\"\",\"timeline_desc\":\"<p>dasasdasdasd</p>\"};\r\n// for (let i = 0; i < 100000; i++) {\r\n//     console.log(i);\r\n//     data.update_time -= 86400;\r\n\r\n//     main.set(`timeline.723CACAED0BB52676FE5484640D832C5_${i}.tmp`, data);\r\n// }\r\n\r\nexport default main;","import Fingerprint2 from 'fingerprintjs2';\r\nimport string from './string';\r\n\r\nconst fingerInfo = null;\r\nnew Fingerprint2().get((result, components) => {\r\n    const identify = new Fingerprint2().x64hash128(components.map(pair => pair.value).join(), 31);\r\n    // console.log(identify);\r\n    mixpanel_module.data.identify = identify;\r\n    mixpanel.identify(identify);\r\n    mixpanel_module.actWaitFunc();\r\n});\r\n\r\nconst mixpanel_module = {\r\n    data: {\r\n        identify: '',\r\n        tabId: string.getRandomString(10),\r\n        data: null,\r\n    },\r\n    waitFunc: [],\r\n    actWaitFunc(){\r\n        if (mixpanel_module.waitFunc.length >= 0) {\r\n            // console.log('actWaitFunc', mixpanel_module.waitFunc);\r\n            mixpanel_module.waitFunc.forEach((actFunc) => {\r\n                actFunc();\r\n            });\r\n        }\r\n    },\r\n    track(action, inputData){\r\n        const actionFunc = function(){\r\n            const data = { ...mixpanel_module.data, data: inputData };\r\n            // console.log('mixpanel', action, data);\r\n            window.mixpanel.track(action, data);\r\n        };\r\n\r\n        if (mixpanel_module.data.identify) {\r\n            actionFunc();\r\n        } else {\r\n            mixpanel_module.waitFunc.push(actionFunc);\r\n        }\r\n    },\r\n};\r\nexport default mixpanel_module;","import swal from 'sweetalert2';\r\n/**\r\n * https://sweetalert2.github.io/#download\r\n *\r\n * icon: success|error|warning|info|question\r\n */\r\n\r\nconst config = {\r\n    icon: 'success',\r\n    title: '',\r\n    html: '',\r\n    footer: '',\r\n\r\n    allowOutsideClick: true,\r\n    showConfirmButton: false,\r\n    showCloseButton: false,\r\n    showCancelButton: false,\r\n\r\n    confirmButtonText: '確認',\r\n    cancelButtonText: '取消',\r\n\r\n    didOpen: () => {\r\n        swal.hideLoading();\r\n    },\r\n};\r\n\r\n\r\nconst executeSwal = (msgObj, confirm, cancel) => {\r\n    const msgConfig = Object.assign({}, config, msgObj);\r\n    swal.fire(msgConfig).then((result) => {\r\n        if (result.value) {\r\n            if (typeof confirm === 'function') {\r\n                confirm();\r\n            }\r\n        } else if (result.dismiss === swal.DismissReason.cancel) {\r\n            if (typeof cancel === 'function') {\r\n                cancel();\r\n            }\r\n        }\r\n    });\r\n};\r\n\r\nconst loading = (msgObj, confirm, cancel) => {\r\n    const msgConfig = {\r\n        ...config,\r\n        icon: '',\r\n        allowOutsideClick: false,\r\n        didOpen: () => {\r\n            swal.showLoading();\r\n        },\r\n        ...msgObj,\r\n    };\r\n    executeSwal(msgConfig, confirm, cancel);\r\n};\r\n\r\n\r\nconst error = (msgObj, confirm, cancel) => {\r\n    const msgConfig = {\r\n        ...config,\r\n        icon: 'error',\r\n        title: '失敗',\r\n        showConfirmButton: true,\r\n        ...msgObj,\r\n    };\r\n    executeSwal(msgConfig, confirm, cancel);\r\n};\r\n\r\nconst warning = (msgObj, confirm, cancel) => {\r\n    const msgConfig = {\r\n        ...config,\r\n        icon: 'warning',\r\n        title: '警告',\r\n        showConfirmButton: true,\r\n        ...msgObj,\r\n    };\r\n    executeSwal(msgConfig, confirm, cancel);\r\n};\r\n\r\nconst success = (msgObj, confirm, cancel) => {\r\n    const msgConfig = {\r\n        ...config,\r\n        icon: 'success',\r\n        title: '成功',\r\n        showConfirmButton: true,\r\n        ...msgObj,\r\n    };\r\n    executeSwal(msgConfig, confirm, cancel);\r\n};\r\n\r\n\r\nconst info = (msgObj, confirm, cancel) => {\r\n    const msgConfig = {\r\n        ...config,\r\n        icon: 'info',\r\n        title: '提示',\r\n        showConfirmButton: true,\r\n        ...msgObj,\r\n    };\r\n    executeSwal(msgConfig, confirm, cancel);\r\n};\r\n\r\nconst confrim = (msgObj, confirm, cancel) => {\r\n    const msgConfig = {\r\n        ...config,\r\n        icon: 'question',\r\n        title: '確認',\r\n        showConfirmButton: true,\r\n        showCancelButton: true,\r\n        ...msgObj,\r\n    };\r\n    executeSwal(msgConfig, confirm, cancel);\r\n};\r\n\r\nconst close = (msgObj, confirm, cancel) => {\r\n    swal.close();\r\n};\r\n\r\nconst popup = {\r\n    success,\r\n    warning,\r\n    error,\r\n    info,\r\n    loading,\r\n    close,\r\n    confrim,\r\n};\r\n\r\nexport default popup;","const deepDiffMapper_func = (function(){\r\n    return {\r\n        VALUE_CREATED: 'created',\r\n        VALUE_UPDATED: 'updated',\r\n        VALUE_DELETED: 'deleted',\r\n        VALUE_UNCHANGED: 'unchanged',\r\n        map(obj1, obj2){\r\n            if (this.isFunction(obj1) || this.isFunction(obj2)) {\r\n                throw 'Invalid argument. Function given, object expected.';\r\n            }\r\n            if (this.isValue(obj1) || this.isValue(obj2)) {\r\n                return {\r\n                    type: this.compareValues(obj1, obj2),\r\n                    data: (obj1 === undefined) ? obj2 : obj1,\r\n                };\r\n            }\r\n\r\n            const diff = {};\r\n            for (var key in obj1) {\r\n                if (this.isFunction(obj1[key])) {\r\n                    continue;\r\n                }\r\n\r\n                let value2;\r\n                if (typeof (obj2[key]) !== 'undefined') {\r\n                    value2 = obj2[key];\r\n                }\r\n\r\n                diff[key] = this.map(obj1[key], value2);\r\n            }\r\n            for (var key in obj2) {\r\n                if (this.isFunction(obj2[key]) || (typeof (diff[key]) !== 'undefined')) {\r\n                    continue;\r\n                }\r\n\r\n                diff[key] = this.map(undefined, obj2[key]);\r\n            }\r\n\r\n            return diff;\r\n        },\r\n        compareValues(value1, value2){\r\n            if (value1 === value2) {\r\n                return this.VALUE_UNCHANGED;\r\n            }\r\n            if (this.isDate(value1) && this.isDate(value2) && value1.getTime() === value2.getTime()) {\r\n                return this.VALUE_UNCHANGED;\r\n            }\r\n            if (typeof (value1) === 'undefined') {\r\n                return this.VALUE_CREATED;\r\n            }\r\n            if (typeof (value2) === 'undefined') {\r\n                return this.VALUE_DELETED;\r\n            }\r\n\r\n            return this.VALUE_UPDATED;\r\n        },\r\n        isFunction(obj){\r\n            return {}.toString.apply(obj) === '[object Function]';\r\n        },\r\n        isArray(obj){\r\n            return {}.toString.apply(obj) === '[object Array]';\r\n        },\r\n        isDate(obj){\r\n            return {}.toString.apply(obj) === '[object Date]';\r\n        },\r\n        isObject(obj){\r\n            return {}.toString.apply(obj) === '[object Object]';\r\n        },\r\n        isValue(obj){\r\n            return !this.isObject(obj) && !this.isArray(obj);\r\n        },\r\n    };\r\n}());\r\n\r\n\r\nconst getRandomString_func = function(strLen = 5){\r\n    const possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n    let text = '';\r\n    for (let i = 0; i < strLen; i++) {\r\n        text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n    return text;\r\n};\r\n\r\nconst formatMoney_func = function(num){\r\n    return num.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,');\r\n};\r\n\r\nconst object2QueryStr_func = function(obj, prefix){\r\n    obj = sortObject_func(obj);\r\n    const str = [];\r\n    let p;\r\n    for (p in obj) {\r\n        if (obj.hasOwnProperty(p)) {\r\n            const k = prefix ? `${prefix}[${p}]` : p;\r\n            const v = obj[p];\r\n            str.push((v !== null && typeof v === 'object')\r\n                ? object2QueryStr_func(v, k)\r\n                : `${encodeURIComponent(k)}=${encodeURIComponent(v)}`);\r\n        }\r\n    }\r\n    return str.join('&');\r\n};\r\n\r\nconst sortObject_func = function(o){\r\n    const sorted = {};\r\n    let key; const\r\n        a = [];\r\n\r\n    for (key in o) {\r\n        if (o.hasOwnProperty(key)) {\r\n            a.push(key);\r\n        }\r\n    }\r\n\r\n    a.sort();\r\n\r\n    for (key = 0; key < a.length; key++) {\r\n        sorted[a[key]] = o[a[key]];\r\n    }\r\n    return sorted;\r\n};\r\n\r\n\r\nconst getJsonFromUrl_func = function(queryString){\r\n    let result = {};\r\n    queryString.split('&').forEach((part) => {\r\n        if (!part) return;\r\n        part = part.split('+').join(' '); // replace every + with space, regexp-free version\r\n        const eq = part.indexOf('=');\r\n        const key = eq > -1 ? part.substr(0, eq) : part;\r\n        let val = null;\r\n        if (eq > -1) {\r\n            try {\r\n                val = decodeURIComponent(part.substr(eq + 1));\r\n            } catch (e) {\r\n                console.log(`${part.substr(eq + 1)} can't decode`);\r\n            }\r\n        }\r\n\r\n        const from = key.indexOf('[');\r\n        var newKey = null;\r\n        if (from == -1) {\r\n            try {\r\n                newKey = decodeURIComponent(key);\r\n            } catch (e) {\r\n                console.log(`${key} can't decode`);\r\n            }\r\n            if (newKey != null && val != null) {\r\n                result[newKey] = val;\r\n            }\r\n        } else {\r\n            const to = key.indexOf(']');\r\n            var newKey = null;\r\n            let index = null;\r\n            try {\r\n                newKey = decodeURIComponent(key.substring(0, from));\r\n            } catch (e) {\r\n                console.log(`${key.substring(0, from)} can't decode`);\r\n            }\r\n\r\n            try {\r\n                index = decodeURIComponent(key.substring(from + 1, to));\r\n            } catch (e) {\r\n                console.log(`${key.substring(from + 1, to)} can't decode`);\r\n            }\r\n\r\n            if (newKey != null && index != null && val != null) {\r\n                if (!result[newKey]) result[newKey] = [];\r\n\r\n                if (!index) {\r\n                    result[newKey].push(val);\r\n                } else {\r\n                    result[newKey][index] = val;\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n    result = sortObject_func(result);\r\n    return result;\r\n};\r\n\r\nconst keywordRemover_func = function(uri){\r\n    uri = uri.replace(/%/g, '％');\r\n    uri = uri.replace(/\\?/g, '？');\r\n    uri = encodeURIComponent(uri).replace(/%2F/g, '');\r\n    return uri;\r\n};\r\n\r\nconst formatContent_func = function(content, formatType = null){\r\n    if (formatType == null || typeof (formatType) !== 'object' || formatType.length == 0) {\r\n        formatType = ['url'];\r\n    }\r\n\r\n\r\n    formatType.forEach((formatTypeKey) => {\r\n        switch (formatTypeKey) {\r\n            case 'url':\r\n                content = formatContent_url(content);\r\n                break;\r\n            case 'nl2br':\r\n                content = nl2br_func(content);\r\n                break;\r\n        }\r\n    });\r\n\r\n\r\n    return content;\r\n};\r\n\r\nconst formatContent_url = function($content){\r\n    // 訊息內容中，URL處理 原：(https?:\\/\\/[\\w-\\.]+(:\\d+)?(\\/[\\w\\-\\%\\/\\.]*)?(\\?\\S*)?(#\\S*)?)\r\n    $content = $content.replace(\r\n        /(https?:\\/\\/[\\w-\\.]+(:\\d+)?(\\/[(\\w\\/\\.\\u3000-\\u303F\\u4e00-\\u9fa5\\u0080-\\uFFEF\\+\\-%)]*)?(\\?\\S*)?(#\\S*)?)/g,\r\n        $match => `<a class=\"word-wrap js-outsite-link\" href=\"${_greatUrlEncode($match)}\" target=\"_blank\">${$match}</a>`,\r\n    );\r\n\r\n    return $content;\r\n};\r\n\r\nconst getUrlFromContent_func = function($content){\r\n    const matchUrl = $content.match(/(https?:\\/\\/[\\w-\\.]+(:\\d+)?(\\/[(\\w\\/\\.\\u3000-\\u303F\\u4e00-\\u9fa5\\u0080-\\uFFEF\\+\\-%)]*)?(\\?\\S*)?(#\\S*)?)/g);\r\n    return matchUrl;\r\n};\r\n\r\nconst _greatUrlEncode = function($url){\r\n    const a = document.createElement('a');\r\n    a.href = $url;\r\n    return a.href;\r\n\r\n    // //query_string\r\n    // $query_string = '';\r\n    // if ($url.indexOf('?')){ // strpos($url, '?')\r\n    //     $tmp = $url.split('?'); // explode('?', $url)\r\n    //     $query_string = $tmp[1];\r\n    //     $str = $tmp[0];\r\n    // } else {\r\n    //     $str = $url;\r\n    // }\r\n\r\n    // //protocol\r\n    // $protocol = '';\r\n    // if ($url.indexOf('://')){ // strpos($url, '://')\r\n    //     $tmp = $str.split('://'); // explode('://', $str)\r\n    //     $protocol = $tmp[0];\r\n    //     $path = $tmp[1];\r\n    // } else {\r\n    //     $path = $str;\r\n    // }\r\n\r\n    // //url\r\n    // $tmp = $path.split('/'); // explode('/', $path)\r\n    // $path = [];\r\n\r\n    // for (var $part in $tmp){\r\n    //     $path.push(encodeURI($tmp[$part]));\r\n    // }\r\n\r\n    // $url_enc = ($protocol == '') ? '' : $protocol + '://';\r\n    // $url_enc += $path.join('/'); // implode('/', $path)\r\n    // $url_enc += ($query_string == undefined) ? '' : '?' + $query_string;\r\n\r\n    // return $url_enc\r\n};\r\n\r\n\r\nconst formatUrlByParams_func = function(urlPath, params){\r\n    for (const key in params) {\r\n        const reg = new RegExp(`\\{${key}\\}`, 'ig');\r\n\r\n        const oldUrlPath = urlPath;\r\n        urlPath = urlPath.replace(reg, params[key]);\r\n        if (urlPath != oldUrlPath) {\r\n            delete params[key];\r\n        }\r\n    }\r\n    if (params && Object.keys(params).length > 0) {\r\n        urlPath += `?${object2QueryStr_func(params)}`;\r\n    }\r\n    return urlPath;\r\n};\r\n\r\nconst htmlEntityDecode_func = function(content){\r\n    return $('<textarea/>').html(content).text();\r\n};\r\n\r\n/*\r\n    PHP nl2br functio\bn 的 JavaScript 版本。\r\n    把 nl (\"\\r\\n\", \"\\n\\r\", \"\\r\", \"\\n\") 代換成 HTML tag \"<br/>\"。\r\n\r\n    source: https://stackoverflow.com/questions/7467840/nl2br-equivalent-in-javascript\r\n*/\r\nconst nl2br_func = function(str, is_xhtml){\r\n    if (typeof str === 'undefined' || str === null) {\r\n        return '';\r\n    }\r\n    const breakTag = (is_xhtml || typeof is_xhtml === 'undefined') ? '<br />' : '<br>';\r\n    return (`${str}`).replace(/([^>\\r\\n]?)(\\r\\n|\\n\\r|\\r|\\n|\\&\\#10\\;)/g, `$1${breakTag}$2`);\r\n};\r\n\r\nconst formatSecond_func = function(secs){\r\n    const hr = Math.floor(secs / 3600);\r\n    const min = Math.floor((secs - (hr * 3600)) / 60);\r\n    const sec = parseInt(secs - (hr * 3600) - (min * 60));\r\n\r\n    const timer = [];\r\n    timer.push((`00${sec}`).slice(-2));\r\n    timer.push((`00${min}`).slice(-2));\r\n    // if ((!isNaN(sec) && sec > 0) || (!isNaN(min) && min > 0) || (isNaN(hr) && hr > 0)) {\r\n    //     timer.push((\"00\" + sec).slice(-2));\r\n    // }\r\n\r\n    // if ((!isNaN(min) && min > 0) || (isNaN(hr) && hr > 0)) {\r\n    //     timer.push((\"00\" + min).slice(-2));\r\n    // }\r\n\r\n    if ((!isNaN(hr) && hr > 0)) {\r\n        timer.push(hr);\r\n    }\r\n\r\n    return timer.reverse().join(':');\r\n};\r\n\r\nconst toSnakeCase_func = function(val){\r\n    const upperChars = val.match(/([A-Z])/g);\r\n    if (!upperChars) {\r\n        return val;\r\n    }\r\n\r\n    let str = val.toString();\r\n    for (let i = 0, n = upperChars.length; i < n; i++) {\r\n        str = str.replace(new RegExp(upperChars[i]), `_${upperChars[i].toLowerCase()}`);\r\n    }\r\n\r\n    if (str.slice(0, 1) === '_') {\r\n        str = str.slice(1);\r\n    }\r\n\r\n    return str;\r\n};\r\n\r\nconst uuid_func = function(){\r\n    let d = Date.now();\r\n    if (typeof performance !== 'undefined' && typeof performance.now === 'function') {\r\n        d += performance.now(); // use high-precision timer if available\r\n    }\r\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\r\n        const r = (d + Math.random() * 16) % 16 | 0;\r\n        d = Math.floor(d / 16);\r\n        return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16);\r\n    });\r\n};\r\n\r\nconst carryFormatter_func = function(num, digits){\r\n    const si = [\r\n        { value: 1, symbol: '' },\r\n        { value: 1E3, symbol: 'k' },\r\n        { value: 1E6, symbol: 'M' },\r\n        { value: 1E9, symbol: 'G' },\r\n        { value: 1E12, symbol: 'T' },\r\n        { value: 1E15, symbol: 'P' },\r\n        { value: 1E18, symbol: 'E' },\r\n    ];\r\n    const rx = /\\.0+$|(\\.[0-9]*[1-9])0+$/;\r\n    let i;\r\n    for (i = si.length - 1; i > 0; i--) {\r\n        if (num >= si[i].value) {\r\n            break;\r\n        }\r\n    }\r\n    return (num / si[i].value).toFixed(digits).replace(rx, '$1') + si[i].symbol;\r\n};\r\n\r\n\r\nconst randRange_func = function(min, max){\r\n    return Math.floor(Math.random() * (max - min + 1)) + min;\r\n};\r\n\r\nconst main = {\r\n    deepDiffMapper: deepDiffMapper_func,\r\n\r\n    getRandomString: getRandomString_func,\r\n\r\n    object2QueryStr: object2QueryStr_func,\r\n    sortObject: sortObject_func,\r\n    getJsonFromUrl: getJsonFromUrl_func,\r\n    formatMoney: formatMoney_func,\r\n\r\n    keywordRemover: keywordRemover_func,\r\n\r\n    formatContent: formatContent_func,\r\n\r\n    formatUrlByParams: formatUrlByParams_func,\r\n\r\n    getUrlFromContent: getUrlFromContent_func,\r\n\r\n    htmlEntityDecode: htmlEntityDecode_func,\r\n\r\n    nl2br: nl2br_func,\r\n\r\n    formatSecond: formatSecond_func,\r\n    toSnakeCase: toSnakeCase_func,\r\n\r\n    uuid: uuid_func,\r\n\r\n    carryFormatter: carryFormatter_func,\r\n\r\n    randRange: randRange_func,\r\n};\r\n\r\nexport const deepDiffMapper = deepDiffMapper_func;\r\nexport const getRandomString = getRandomString_func;\r\nexport const object2QueryStr = object2QueryStr_func;\r\nexport const sortObject = sortObject_func;\r\nexport const getJsonFromUrl = getJsonFromUrl_func;\r\nexport const formatMoney = formatMoney_func;\r\nexport const keywordRemover = keywordRemover_func;\r\nexport const formatContent = formatContent_func;\r\nexport const htmlEntityDecode = htmlEntityDecode_func;\r\nexport const nl2br = nl2br_func;\r\nexport const formatSecond = formatSecond_func;\r\nexport const toSnakeCase = toSnakeCase_func;\r\nexport const uuid = uuid_func;\r\nexport const carryFormatter = carryFormatter_func;\r\nexport const randRange = randRange_func;\r\nexport default main;","import jsVars from './jsVars';\r\nimport mixpanel from './mixpanel';\r\nimport localStorage from './localStorage';\r\n\r\nconst luckyDrawDebug = localStorage.get('luckyDrawDebug', false);\r\n/* eslint-disable no-extra-boolean-cast */\r\n/* eslint-disable no-param-reassign */\r\nconst main = {\r\n    default: {\r\n    },\r\n    fbq(action, event, data){\r\n        // console.log('fbq', action, event, data);\r\n        if (!!window.fbq) {\r\n            if (!!data) {\r\n                window.fbq(action, event, data);\r\n            } else {\r\n                window.fbq(action, event);\r\n            }\r\n        }\r\n    },\r\n    gtag(event, action, data){\r\n        // console.log('gtag', action, event, data);\r\n        if (!!window.gtag) {\r\n            if (!!data) {\r\n                window.gtag(event, action, data);\r\n            } else {\r\n                window.gtag(event, action);\r\n            }\r\n        }\r\n    },\r\n    mixpanel(action, data){\r\n        if (luckyDrawDebug) {\r\n            console.log('mixpanel', action, data);\r\n        } else {\r\n            mixpanel.track(action, data);\r\n        }\r\n    },\r\n};\r\n\r\nexport default main;","/* eslint-disable no-use-before-define */\r\n/* eslint-disable no-prototype-builtins */\r\n// import { disableBodyScroll, enableBodyScroll, clearAllBodyScrollLocks } from 'body-scroll-lock';\r\nimport $ from 'jquery';\r\nimport linkRegister from './linkRegister';\r\n\r\n/* 設定預設值 */\r\nconst defaultConfig = {\r\n    /**\r\n     * 外部要掛上的客製化 class\r\n     */\r\n    custom_class: '',\r\n    /**\r\n     * offset 值\r\n     */\r\n    offset: {\r\n        top: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n        left: 0,\r\n    },\r\n\r\n    /**\r\n     * 啟動導覽列的 callback\r\n     */\r\n    startCallback: null,\r\n\r\n    /**\r\n     * 關閉導覽列的 callback\r\n     */\r\n    closeCallback: null,\r\n\r\n    /**\r\n     * 關閉導覽列的 callback\r\n     */\r\n    step_callback: null,\r\n\r\n    /**\r\n     * 點擊遮罩關閉\r\n     */\r\n    clickOuterClose: false,\r\n\r\n    buttonLang: {\r\n        next: '<i class=\"fas fa-angle-right\"></i>',\r\n        skip: '跳過',\r\n        iKnow: '我知道了',\r\n    },\r\n};\r\n\r\n/**\r\n * 預設步驟內容\r\n */\r\nconst DefaultTutorialStep = {\r\n    /**\r\n     * 此步驟的 key，run 的時候可以直接跳到這步驟\r\n     */\r\n    key: '',\r\n    /**\r\n     * 此步驟對應的對象（string, Node）\r\n     */\r\n    target: '',\r\n    /**\r\n     * 此步驟的標題\r\n     */\r\n    title: '',\r\n    /**\r\n     * 此步驟的導覽內容\r\n     */\r\n    intro: '',\r\n    /**\r\n     * 此步驟顯示前需要執行的動作\r\n     */\r\n    beforeAction: null,\r\n    /**\r\n     * 此步驟結束後需要執行的動作\r\n     */\r\n    afterAction: null,\r\n\r\n    /**\r\n     * 等待時間自動下一步\r\n     */\r\n    waitToNextAction: null,\r\n\r\n    /**\r\n     * 點擊對象執行\r\n     */\r\n    clickAction: null,\r\n\r\n\r\n    /**\r\n     * 點擊確認\r\n     */\r\n    confirmAction: null,\r\n\r\n    /**\r\n     * 確認文字\r\n     */\r\n    confirmText: '',\r\n\r\n    /**\r\n     * 點擊取消\r\n     */\r\n    cancelAction: null,\r\n\r\n    /**\r\n     * 取消文字\r\n     */\r\n    cancelText: '',\r\n\r\n    /**\r\n     * 此步驟對應的元素\r\n     */\r\n    element: null,\r\n\r\n    scrollTarget: null,\r\n};\r\n\r\n/**\r\n *  導覽模組\r\n */\r\nfunction Tutorial(input_steps, config){\r\n    const that = this;\r\n\r\n    /**\r\n     * 產生亂數 key\r\n     */\r\n    const getRandomString = function(strLen){\r\n        const possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n        let text = '';\r\n        for (let i = 0; i < strLen; i += 1) {\r\n            text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n        }\r\n        return text;\r\n    };\r\n\r\n    /**\r\n     * 步驟資訊\r\n     */\r\n    let stepsStorage = [];\r\n\r\n    /**\r\n     * config 內容\r\n     */\r\n    let configStorage = {};\r\n\r\n    /**\r\n     * 產生亂碼的名稱\r\n     */\r\n    const TutorialKey = `tutorial_${getRandomString(20)}`;\r\n\r\n    /**\r\n     * 最後一次看的 index\r\n     */\r\n    let LastIndex = false;\r\n\r\n    /**\r\n     * 最後一個 Intro 內容\r\n     */\r\n    let LastIntroInfo = false;\r\n\r\n    /**\r\n     * 螢幕調整尺寸的等待閥值\r\n     */\r\n    let windowResizeTimer = null;\r\n\r\n    /**\r\n     * 執行導覽等待閥值\r\n     */\r\n    let runTimer = null;\r\n\r\n    /**\r\n     * 停留時間計時器\r\n     */\r\n    let dwellTimeTimer = null;\r\n\r\n    /**\r\n     * 停留時間紀錄\r\n     */\r\n    let dwellTimeStorage = null;\r\n\r\n    /**\r\n     * 設定 body\r\n     */\r\n    const body = document.querySelector('body');\r\n\r\n    /**\r\n     * 預設 className\r\n     */\r\n    const className = {\r\n        bodyRelative: 'tutorial-relative',\r\n        tutorialBox: 'tutorial-box',\r\n        tutorialMask: 'tutorial-mask',\r\n        tutorialIntro: 'tutorial-intro',\r\n        tutorialIntroWrapper: 'tutorial-intro-wrapper',\r\n        tutorialIntroBox: 'tutorial-intro-box',\r\n        tutorialIntroBoxTitle: 'tutorial-intro-box-title',\r\n        tutorialIntroBoxContent: 'tutorial-intro-box-content',\r\n        tutorialIntroBoxTools: 'tutorial-intro-box-tools',\r\n        tutorialIntroBoxToolsPager: 'tutorial-intro-box-tools-pager',\r\n        tutorialIntroBoxToolsPagerCurrent: 'tutorial-intro-box-tools-current',\r\n        tutorialIntroBoxToolsPagerTotal: 'tutorial-intro-box-tools-total',\r\n        tutorialIntroBoxToolsSkip: 'tutorial-intro-box-tools-skip',\r\n        tutorialIntroBoxToolsPrev: 'tutorial-intro-box-tools-prev',\r\n        tutorialIntroBoxToolsNext: 'tutorial-intro-box-tools-next',\r\n        tutorialIntroArrow: 'tutorial-intro-arrow',\r\n        tutorialIntroExit: 'tutorial-intro-exit',\r\n    };\r\n\r\n    /**\r\n     * 模板\r\n     */\r\n    const template = {\r\n        tutorial_box: `\r\n            <div class='{tutorialBox} {outerClassName}' ref='{tutorialKey}'>\r\n            </div>\r\n        `,\r\n        tutorial_mask_box: `\r\n            <div class='{tutorialMask}'>\r\n            </div>\r\n        `,\r\n        tutorial_intro_box: `\r\n            <div class='{tutorialIntro}' direction=\"center\">\r\n                <div class=\"{tutorialIntroWrapper}\">\r\n                    <div class=\"{tutorialIntroArrow}\">\r\n                    </div>\r\n                    <div class='{tutorialIntroBox}'>\r\n                        <div class='{tutorialIntroBoxTitle}'></div>\r\n                        <div class='{tutorialIntroBoxContent}'></div>\r\n                        <div class='{tutorialIntroBoxTools}'>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"{tutorialIntroExit}\">\r\n                        <i class=\"fas fa-times\"></i>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        `,\r\n        tutorial_intro_pager: `\r\n            <div class='{tutorialIntroBoxToolsPager}'>\r\n                <span class='{tutorialIntroBoxToolsPagerCurrent}'>{CurrentNumber}</span> / <span class='{tutorialIntroBoxToolsPagerTotal}'>{TotalNumber}</span>\r\n            </div>\r\n        `,\r\n        tutorial_intro_skip: `\r\n            <div class='{tutorialIntroBoxToolsSkip}'>\r\n                {skip}\r\n            </div>\r\n        `,\r\n        tutorial_intro_prev: `\r\n            <div class='{tutorialIntroBoxToolsPrev}'>\r\n                <i class=\"fas fa-angle-left\"></i>\r\n            </div>\r\n        `,\r\n        tutorial_intro_next: `\r\n            <div class='{tutorialIntroBoxToolsNext}'>\r\n                <i class=\"fas fa-angle-right\"></i>\r\n            </div>\r\n        `,\r\n    };\r\n\r\n    /**\r\n     * 載入 css\r\n     */\r\n    const loadCss = async function(){\r\n        return new Promise((resolve, reject) => {\r\n            /* set popup  */\r\n            linkRegister.register([\r\n                {\r\n                    rel: 'stylesheet',\r\n                    type: 'text/css',\r\n                    href: 'dist/css/page/tutorial.css',\r\n                    onload(){\r\n                        console.log('css load done');\r\n                        resolve();\r\n                    },\r\n                },\r\n            ]);\r\n        });\r\n    };\r\n    loadCss();\r\n\r\n    /**\r\n     * 檢查是否為物件\r\n     */\r\n    const isObject = function(item){\r\n        return (item && typeof item === 'object' && !Array.isArray(item));\r\n    };\r\n\r\n    /**\r\n     * 檢查 element isHidden\r\n     */\r\n    const isHidden = function(element){\r\n        const style = window.getComputedStyle(element, null);\r\n        const rect = getElementRect(element);\r\n        return ((style.display === 'none' || style.visibility === 'hidden') || (rect.width === 0 && rect.height === 0));\r\n    };\r\n\r\n    /**\r\n     * 深層 merge\r\n     */\r\n    const mergeDeep = function(target, ...sources){\r\n        if (!sources.length) return target;\r\n        const source = sources.shift();\r\n\r\n        if (isObject(target) && isObject(source)) {\r\n            for (const key in source) {\r\n                if (isObject(source[key])) {\r\n                    if (!target[key]) Object.assign(target, { [key]: {} });\r\n                    mergeDeep(target[key], source[key]);\r\n                } else {\r\n                    Object.assign(target, { [key]: source[key] });\r\n                }\r\n            }\r\n        }\r\n\r\n        return mergeDeep(target, ...sources);\r\n    };\r\n\r\n    /**\r\n     * 設定 config\r\n     */\r\n    this.setConfig = function(_config_){\r\n        configStorage = mergeDeep({}, defaultConfig, configStorage, { ..._config_ });\r\n    };\r\n\r\n    /**\r\n     * 設導覽步驟\r\n     */\r\n    this.setSteps = function(_input_steps_){\r\n        let format_steps = [];\r\n\r\n        if (Array.isArray(_input_steps_)) {\r\n            /**\r\n             * 帶進來的是陣列\r\n             */\r\n            _input_steps_.forEach((_data_, _index_) => {\r\n                const __step__ = {\r\n                    ...DefaultTutorialStep,\r\n                    ..._data_,\r\n                    element: getElement(_data_.target),\r\n                };\r\n\r\n                if (__step__.confirmText === '') {\r\n                    if (_index_ === _input_steps_.length - 1) {\r\n                        __step__.confirmText = configStorage.buttonLang.iKnow;\r\n                    } else {\r\n                        __step__.confirmText = configStorage.buttonLang.next;\r\n                    }\r\n                }\r\n\r\n                if (__step__.cancelText === '') {\r\n                    __step__.cancelText = configStorage.buttonLang.skip;\r\n                }\r\n\r\n                format_steps.push(__step__);\r\n            });\r\n        } else if (typeof list === 'object') {\r\n            const __step__ = {\r\n                ...DefaultTutorialStep,\r\n                ..._input_steps_,\r\n                element: getElement(_input_steps_.target),\r\n            };\r\n\r\n            if (__step__.confirmText === '') {\r\n                __step__.confirmText = configStorage.buttonLang.iKnow;\r\n            }\r\n\r\n            if (__step__.cancelText === '') {\r\n                __step__.cancelText = configStorage.buttonLang.skip;\r\n            }\r\n\r\n            /**\r\n             * 帶進來的是物件\r\n             */\r\n            format_steps.push(__step__);\r\n        } else {\r\n            let NodeItems = null;\r\n            if (Node.prototype.isPrototypeOf(_input_steps_)) {\r\n                /**\r\n                 * 帶進來的是 Node\r\n                 */\r\n                NodeItems = [];\r\n                NodeItems.push(_input_steps_);\r\n            } else if (NodeList.prototype.isPrototypeOf(_input_steps_)) {\r\n                /**\r\n                 * 帶進來的是 NodeList 結構\r\n                 */\r\n                NodeItems = _input_steps_;\r\n            } else if (typeof _input_steps_ === 'string') {\r\n                /**\r\n                 * 帶進來的是字串，嘗試去 querySelectorAll\r\n                 */\r\n                NodeItems = document.querySelectorAll(_input_steps_);\r\n            }\r\n\r\n            const tmp_format_steps = [];\r\n            if (NodeList.prototype.isPrototypeOf(NodeItems) || Array.isArray(NodeItems)) {\r\n                NodeItems.forEach((NodeItem) => {\r\n                    const key = NodeItem.dataset.key || NodeItem.id || '';\r\n                    let order = parseInt(NodeItem.dataset.order || 999999999999);\r\n                    if (!Number.isInteger(order)) {\r\n                        order = 999999999999;\r\n                    }\r\n                    tmp_format_steps.push({\r\n                        ...DefaultTutorialStep,\r\n                        element: NodeItem,\r\n                        key,\r\n                        order,\r\n                    });\r\n                });\r\n            }\r\n\r\n            /**\r\n             * 檢查 element 排序\r\n             */\r\n            tmp_format_steps.sort((a, b) => {\r\n                if (a.order > b.order) {\r\n                    return 1;\r\n                }\r\n\r\n                if (a.order === b.order) {\r\n                    return 0;\r\n                }\r\n\r\n                return -1;\r\n            });\r\n\r\n            format_steps = tmp_format_steps;\r\n        }\r\n        format_steps = format_steps.map((item, index) => {\r\n            item.index = index;\r\n            return item;\r\n        });\r\n        stepsStorage = format_steps;\r\n    };\r\n\r\n    /**\r\n     * 取得模板 HTML\r\n     */\r\n    const getTemplate = function(templateName, input){\r\n        let html = template[templateName] || '';\r\n        for (const key in input) {\r\n            switch (key) {\r\n                case 'icon':\r\n                    html = (!input.img) ? html.replace(`{${key}}`, input[key]) : html.replace(`{${key}}`, '');\r\n                    break;\r\n                default:\r\n                    html = html.replace(`{${key}}`, input[key]);\r\n                    break;\r\n            }\r\n        }\r\n        return html;\r\n    };\r\n\r\n    /**\r\n     * 取得 element 根據 key (可以帶入 Node 或是 key)\r\n     */\r\n    const getElement = function(key){\r\n        let element = null;\r\n        if (!!key && 1) {\r\n            if (Node.prototype.isPrototypeOf(key)) {\r\n                element = key;\r\n            } else if (typeof key === 'string') {\r\n                element = document.querySelector(key.trim());\r\n                if (!!element && isHidden(element)) {\r\n                    element = null;\r\n                }\r\n            }\r\n        }\r\n        return element;\r\n    };\r\n\r\n    /**\r\n     * 取得 element 座標資訊\r\n     */\r\n    const getElementRect = function(element, $window = window){\r\n        const rect = element.getBoundingClientRect();\r\n        const offset = {\r\n            top: rect.top + $window.scrollY,\r\n            left: rect.left + $window.scrollX,\r\n            bottom: rect.top + rect.height + $window.scrollY,\r\n            right: rect.left + rect.width + $window.scrollX,\r\n            width: rect.width,\r\n            height: rect.height,\r\n            windowY: $window.scrollY,\r\n            windowX: $window.scrollX,\r\n            centerX: rect.left + rect.width / 2,\r\n            centerY: rect.top + rect.height / 2,\r\n        };\r\n        return offset;\r\n    };\r\n\r\n    /**\r\n     * 取得 window 座標資訊\r\n     */\r\n    const getWindowInfo = function(){\r\n        const win = {\r\n            top: window.scrollY + (configStorage.offset.top || 0),\r\n            left: window.scrollX + (configStorage.offset.left || 0),\r\n            bottom: window.scrollY + window.innerHeight - (configStorage.offset.bottom || 0),\r\n            right: window.scrollX + window.innerWidth - (configStorage.offset.right || 0),\r\n            w: window.innerWidth - (configStorage.offset.right || 0),\r\n            h: window.innerHeight - (configStorage.offset.bottom || 0),\r\n            centerX: window.scrollX + (window.innerWidth / 2),\r\n            centerY: window.scrollY + (window.innerHeight / 2),\r\n        };\r\n        return win;\r\n    };\r\n\r\n    /**\r\n     * 將視窗移動至 element 可見範圍\r\n     */\r\n    const windowMoveToElement = function(element, TmpIntroNode){\r\n        let scrollTarget = window;\r\n        if (LastIntroInfo.scrollTarget) {\r\n            scrollTarget = getElement(LastIntroInfo.scrollTarget);\r\n        }\r\n        /**\r\n         * 取得頁面極限高度\r\n         */\r\n        const bodyH = body.offsetHeight - 30;\r\n\r\n        /**\r\n         * 取得視窗資訊\r\n         */\r\n        const win = getWindowInfo();\r\n\r\n        /**\r\n         * 取得元素座標資訊\r\n         */\r\n        const rect = getElementRect(element);\r\n\r\n        /**\r\n         * 取得導覽資訊座標資訊\r\n         */\r\n        const introRect = getElementRect(TmpIntroNode);\r\n\r\n        /**\r\n         * 視窗移動資訊\r\n         */\r\n        const move = {\r\n            // behavior: 'smooth',\r\n        };\r\n\r\n        if (win.bottom < rect.top) {\r\n            move.top = win.top + (rect.bottom - win.bottom);\r\n        } else if (win.bottom > rect.bottom && win.top < rect.top) {\r\n            // 在畫面內不做任何事情\r\n        } else {\r\n            let tooBottom = false;\r\n            /**\r\n             * 元素的底 ＋ 導覽資訊的高度 是否大於 頁面極限高度\r\n             */\r\n            if (rect.bottom + introRect.height > bodyH) {\r\n                tooBottom = true;\r\n            }\r\n\r\n            /**\r\n             * 視窗滑動到的高度座標\r\n             */\r\n            if (tooBottom) {\r\n                move.top = rect.top - win.h + rect.height + 10 + (configStorage.offset.bottom || 0);\r\n            } else {\r\n                move.top = rect.top - 10 - (configStorage.offset.top || 0);\r\n            }\r\n        }\r\n\r\n\r\n        scrollTarget.scroll(move);\r\n\r\n\r\n\r\n\r\n        // /**\r\n        //  * 視窗移動資訊\r\n        //  */\r\n        // const move = {\r\n        //     // behavior: 'smooth',\r\n        // };\r\n\r\n        // let tooBottom = false;\r\n        // /**\r\n        //  * 元素的底 ＋ 導覽資訊的高度 是否大於 頁面極限高度\r\n        //  */\r\n        // if (rect.bottom + introRect.height > bodyH) {\r\n        //     tooBottom = true;\r\n        // }\r\n\r\n        // /**\r\n        //  * 視窗滑動到的高度座標\r\n        //  */\r\n        // if (tooBottom) {\r\n        //     move.top = rect.top - win.h + rect.height + 10 + (configStorage.offset.bottom || 0);\r\n        // } else {\r\n        //     move.top = rect.top - 10 - (configStorage.offset.top || 0);\r\n        // }\r\n\r\n        // window.scroll(move);\r\n        return getElementRect(element);\r\n    };\r\n\r\n    /**\r\n     * 阻止氣泡傳遞\r\n     */\r\n    const stopPropagationClickFunc = (e) => {\r\n        e.stopPropagation();\r\n    };\r\n\r\n    /**\r\n     * 鍵盤事件\r\n     */\r\n    let globalKeyDownTimer = null;\r\n    const globalKeyDown = (e) => {\r\n        clearTimeout(globalKeyDownTimer);\r\n        globalKeyDownTimer = setTimeout(() => {\r\n            switch (e.code) {\r\n                case 'ArrowRight':\r\n                case 'ArrowDown':\r\n                case 'Space':\r\n                    NextClickFunc();\r\n                    break;\r\n                case 'ArrowLeft':\r\n                case 'ArrowUp':\r\n                    PrevClickFunc();\r\n                    break;\r\n                case 'Escape':\r\n                    if (configStorage.clickOuterClose) {\r\n                        that.close();\r\n                    }\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }, 100);\r\n    };\r\n\r\n    /**\r\n     * 根據 template 建立 node\r\n     */\r\n    const createNodeByTemplate = function(templateName, input){\r\n        /**\r\n         * 建立 HTML\r\n         */\r\n        const html = getTemplate(templateName, input).trim();\r\n\r\n        /**\r\n         * 產生 node 結構\r\n         */\r\n        const tmp = document.createElement('template');\r\n        tmp.innerHTML = html;\r\n        const node = tmp.content.firstChild;\r\n\r\n        return node;\r\n    };\r\n\r\n    /**\r\n     * 建立取得導覽 Node\r\n     */\r\n    const getTutorialNode = function(){\r\n        /**\r\n         * 檢查 node 是否存在\r\n         */\r\n        let node = document.querySelector(`.${className.tutorialBox}[ref='${TutorialKey}']`);\r\n        if (!node) {\r\n            node = createNodeByTemplate('tutorial_box', {\r\n                tutorialKey: TutorialKey,\r\n                outerClassName: configStorage.custom_class,\r\n                tutorialBox: className.tutorialBox,\r\n            });\r\n            body.append(node);\r\n        }\r\n        return node;\r\n    };\r\n\r\n    /**\r\n     * 建立取得遮罩 Node\r\n     */\r\n    const getMaskNode = function(TutorialNode){\r\n        let node = TutorialNode.querySelector(`.${className.tutorialMask}`);\r\n        if (!node) {\r\n            node = createNodeByTemplate('tutorial_mask_box', {\r\n                tutorialMask: className.tutorialMask,\r\n            });\r\n            node.addEventListener('click', stopPropagationClickFunc, false);\r\n            TutorialNode.append(node);\r\n        }\r\n        return node;\r\n    };\r\n\r\n    /**\r\n     * 建立取得 Intro Node\r\n     */\r\n    const getIntroNode = function(TutorialNode){\r\n        let node = TutorialNode.querySelector(`.${className.tutorialIntro}`);\r\n        if (!node) {\r\n            node = createNodeByTemplate('tutorial_intro_box', {\r\n                tutorialIntro: className.tutorialIntro,\r\n                tutorialIntroBox: className.tutorialIntroBox,\r\n                tutorialIntroWrapper: className.tutorialIntroWrapper,\r\n                tutorialIntroArrow: className.tutorialIntroArrow,\r\n                tutorialIntroExit: className.tutorialIntroExit,\r\n                tutorialIntroBoxTitle: className.tutorialIntroBoxTitle,\r\n                tutorialIntroBoxContent: className.tutorialIntroBoxContent,\r\n                tutorialIntroBoxTools: className.tutorialIntroBoxTools,\r\n                tutorialIntroBoxToolsPager: className.tutorialIntroBoxToolsPager,\r\n                tutorialIntroBoxToolsPagerCurrent: className.tutorialIntroBoxToolsPagerCurrent,\r\n                tutorialIntroBoxToolsPagerTotal: className.tutorialIntroBoxToolsPagerTotal,\r\n                tutorialIntroBoxToolsSkip: className.tutorialIntroBoxToolsSkip,\r\n                tutorialIntroBoxToolsNext: className.tutorialIntroBoxToolsNext,\r\n            });\r\n            node.addEventListener('click', stopPropagationClickFunc, false);\r\n            const exitBtn = node.querySelector(`.${className.tutorialIntroExit}`);\r\n            exitBtn.addEventListener('click', SkipClickFunc, false);\r\n            TutorialNode.append(node);\r\n        }\r\n        return node;\r\n    };\r\n\r\n    /**\r\n     * 點擊下一步\r\n     */\r\n    const NextClickFunc = () => {\r\n        const NextBtnNode = getElement(`.${className.tutorialIntroBoxToolsNext}`);\r\n        if (!NextBtnNode.classList.contains('disabled')) {\r\n            const RunNext = function(){\r\n                if (LastIndex + 1 < stepsStorage.length) {\r\n                    that.run(LastIndex + 1);\r\n                } else {\r\n                    that.close();\r\n                }\r\n            };\r\n\r\n            if (typeof LastIntroInfo.confirmAction === 'function') {\r\n                LastIntroInfo.confirmAction(RunNext);\r\n            } else {\r\n                RunNext();\r\n            }\r\n        }\r\n    };\r\n\r\n    /**\r\n     * 點擊下一步\r\n     */\r\n    const PrevClickFunc = () => {\r\n        const PrevBtnNode = getElement(`.${className.tutorialIntroBoxToolsPrev}`);\r\n        if (!PrevBtnNode.classList.contains('disabled')) {\r\n            const RunNext = function(){\r\n                if (LastIndex - 1 >= 0) {\r\n                    that.run(LastIndex - 1);\r\n                }\r\n            };\r\n\r\n            RunNext();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * 點擊離開\r\n     */\r\n    const SkipClickFunc = () => {\r\n        const RunNext = function(){\r\n            that.close();\r\n        };\r\n\r\n        if (typeof LastIntroInfo.cancelAction === 'function') {\r\n            LastIntroInfo.cancelAction(RunNext);\r\n        } else {\r\n            RunNext();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * 點擊遮罩離開\r\n     */\r\n    const TutorialOuterClickFunc = () => {\r\n        that.close();\r\n    };\r\n\r\n    /**\r\n     * 目標允許被點擊\r\n     */\r\n    const TargetAllowClickFunc = () => {\r\n        if (!!LastIntroInfo && typeof LastIntroInfo.clickAction === 'function' && 1) {\r\n            const TutorialNode = getTutorialNode();\r\n            LastIntroInfo.clickAction(LastIntroInfo.element, TutorialNode, () => {\r\n                if (LastIndex + 1 < stepsStorage.length) {\r\n                    that.run(LastIndex + 1);\r\n                } else {\r\n                    that.close();\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    /**\r\n     * 執行 beforeAction 動作\r\n     */\r\n    const beforeActionPromise = function(TmpIntroInfo, TmpTutorialNode){\r\n        return new Promise((resolve, reject) => {\r\n            /**\r\n             * 如果 beforeAction 是 function\r\n             */\r\n            if (typeof TmpIntroInfo.beforeAction === 'function') {\r\n                TmpIntroInfo.beforeAction(TmpIntroInfo.element, TmpTutorialNode, () => {\r\n                    resolve();\r\n                });\r\n            } else {\r\n                resolve();\r\n            }\r\n\r\n            /**\r\n             * 是否點擊外面關閉\r\n             */\r\n            TmpTutorialNode.removeEventListener('click', TutorialOuterClickFunc, false);\r\n            if (configStorage.clickOuterClose) {\r\n                TmpTutorialNode.addEventListener('click', TutorialOuterClickFunc, false);\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n     * 執行 AfterActionPromise 動作\r\n     */\r\n    const AfterActionPromise = function(TmpIntroInfo, TmpTutorialNode){\r\n        return new Promise((resolve, reject) => {\r\n            /**\r\n             * 如果 afterAction 是 function\r\n             */\r\n            if (typeof TmpIntroInfo.afterAction === 'function') {\r\n                TmpIntroInfo.afterAction(TmpIntroInfo.element, TmpTutorialNode, () => {\r\n                    resolve();\r\n                });\r\n            } else {\r\n                resolve();\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n     * 移動 遮罩 至目標 Element\r\n     */\r\n    const moveMaskToElementPromise = function(TmpIntroInfo, TmpTutorialNode, TmpIntroNode, TmpMaskNode){\r\n        return new Promise((resolve, reject) => {\r\n            TmpIntroNode.classList.remove('show');\r\n            /**\r\n             * 如果 element 存在，但是被隱藏\r\n             */\r\n            if (!!TmpIntroInfo.element && isHidden(TmpIntroInfo.element)) {\r\n                TmpIntroInfo.element = null;\r\n            }\r\n\r\n            /**\r\n             * 如果 element 不存在，但是有設定 target 嘗試取得成為 element\r\n             */\r\n            if (!TmpIntroInfo.element && !!TmpIntroInfo.target) {\r\n                TmpIntroInfo.element = getElement(TmpIntroInfo.target);\r\n            }\r\n\r\n            /**\r\n             * 設定導覽訊息置中\r\n             */\r\n            TmpIntroNode.setAttribute('direction', 'center');\r\n\r\n            /**\r\n             * 移除導覽訊息的 style (left, right ....)\r\n             */\r\n            TmpIntroNode.removeAttribute('style');\r\n\r\n            /**\r\n             * 移除導覽箭頭的 style (left, top ....)\r\n             */\r\n            TmpIntroNode.querySelector(`.${className.tutorialIntroArrow}`).removeAttribute('style');\r\n\r\n            /**\r\n             * 移除遮罩的 style (left, top ....)\r\n             */\r\n            TmpMaskNode.removeAttribute('style');\r\n\r\n            /**\r\n             * 如果 element 存在\r\n             */\r\n            if (!!TmpIntroInfo.element && 1) {\r\n                /**\r\n                 * 滑動視窗進 element 可見範圍\r\n                 */\r\n                const style = windowMoveToElement(TmpIntroInfo.element, TmpIntroNode);\r\n\r\n                /**\r\n                 * 設定遮罩寬高\r\n                 */\r\n                TmpMaskNode.style.width = `${style.width + 4}px`;\r\n                TmpMaskNode.style.height = `${style.height + 4}px`;\r\n                TmpMaskNode.style.top = `${style.top - style.windowY - 2}px`;\r\n                TmpMaskNode.style.left = `${style.left - style.windowX - 2}px`;\r\n\r\n                /**\r\n                 * 設定遮罩顯示狀態\r\n                 */\r\n                TmpMaskNode.classList.remove('show-empty');\r\n                TmpMaskNode.classList.add('show');\r\n\r\n                TmpMaskNode.removeEventListener('click', TargetAllowClickFunc, false);\r\n                TmpMaskNode.classList.remove('pointer');\r\n                if (typeof TmpIntroInfo.clickAction === 'function') {\r\n                    TmpMaskNode.addEventListener('click', TargetAllowClickFunc, false);\r\n                    TmpMaskNode.classList.add('pointer');\r\n                }\r\n            } else {\r\n                /**\r\n                 * 設定遮罩顯示狀態\r\n                 */\r\n                TmpMaskNode.classList.remove('show');\r\n                TmpMaskNode.classList.add('show-empty');\r\n            }\r\n            resolve();\r\n        });\r\n    };\r\n\r\n    /**\r\n     * 設定導覽區塊內容\r\n     */\r\n    const setTutorialInfoBox = function(TmpIntroInfo, TmpIntroNode, TmpMaskNode){\r\n        return new Promise((resolve, reject) => {\r\n            /**\r\n             * 設定導覽顯示內容\r\n             */\r\n            let showInfo = {\r\n                key: TmpIntroInfo.key || '',\r\n                title: TmpIntroInfo.title,\r\n                intro: TmpIntroInfo.intro,\r\n            };\r\n\r\n            /**\r\n             * 如果步驟元素不存在但是 target 存在，嘗試重新取得一次\r\n             */\r\n            if (!TmpIntroInfo.element && !!TmpIntroInfo.target) {\r\n                TmpIntroInfo.element = getElement(TmpIntroInfo.target);\r\n            }\r\n\r\n            /**\r\n             * 檢查 element 為 Node\r\n             */\r\n            if (Node.prototype.isPrototypeOf(TmpIntroInfo.element)) {\r\n                /**\r\n                 * 從 element 中取出 dataset 覆蓋至顯示內容\r\n                 */\r\n                showInfo = {\r\n                    ...showInfo,\r\n                    ...TmpIntroInfo.element.dataset,\r\n                };\r\n            }\r\n\r\n            /**\r\n             * 設置 key\r\n             */\r\n            if (!!showInfo.key && 1) {\r\n                TmpIntroNode.setAttribute('key', showInfo.key);\r\n            } else {\r\n                TmpIntroNode.removeAttribute('key');\r\n            }\r\n\r\n            /**\r\n             * 設置顯示導覽標題內容\r\n             */\r\n            TmpIntroNode.querySelector(`.${className.tutorialIntroBoxTitle}`).innerHTML = showInfo.title;\r\n            TmpIntroNode.querySelector(`.${className.tutorialIntroBoxContent}`).innerHTML = showInfo.intro;\r\n\r\n            const TmpIntroTools = TmpIntroNode.querySelector(`.${className.tutorialIntroBoxTools}`);\r\n            TmpIntroTools.innerHTML = '';\r\n\r\n\r\n            /**\r\n             * 設置顯示導覽頁碼\r\n             */\r\n            if (stepsStorage.length > 1) {\r\n                const ToolPager = createNodeByTemplate('tutorial_intro_pager', {\r\n                    tutorialIntroBoxToolsPager: className.tutorialIntroBoxToolsPager,\r\n                    tutorialIntroBoxToolsPagerTotal: className.tutorialIntroBoxToolsPagerTotal,\r\n                    CurrentNumber: TmpIntroInfo.index + 1,\r\n                    TotalNumber: stepsStorage.length,\r\n                });\r\n                TmpIntroTools.append(ToolPager);\r\n            }\r\n\r\n\r\n            /**\r\n             * 上一步\r\n             */\r\n            const ToolPrev = createNodeByTemplate('tutorial_intro_prev', {\r\n                tutorialIntroBoxToolsPrev: className.tutorialIntroBoxToolsPrev,\r\n            });\r\n            ToolPrev.addEventListener('click', PrevClickFunc, false);\r\n            TmpIntroTools.append(ToolPrev);\r\n            if (LastIndex - 1 < 0) {\r\n                ToolPrev.classList.add('disabled');\r\n            }\r\n\r\n            /**\r\n             * 下一步\r\n             */\r\n            const ToolNext = createNodeByTemplate('tutorial_intro_next', {\r\n                tutorialIntroBoxToolsNext: className.tutorialIntroBoxToolsNext,\r\n            });\r\n            ToolNext.addEventListener('click', NextClickFunc, false);\r\n            TmpIntroTools.append(ToolNext);\r\n            if (LastIndex + 1 >= stepsStorage.length) {\r\n                ToolNext.classList.add('disabled');\r\n            } else {\r\n                if (typeof TmpIntroInfo.waitToNextAction === 'function') {\r\n                    ToolNext.classList.add('disabled');\r\n                    const waitToNextAction = () => {\r\n                        ToolNext.classList.remove('disabled');\r\n                        NextClickFunc();\r\n                    };\r\n                    TmpIntroInfo.waitToNextAction(TmpIntroInfo.element, waitToNextAction);\r\n                }\r\n            }\r\n\r\n            /**\r\n             * 顯示導覽資訊\r\n             */\r\n            TmpIntroNode.querySelector(`.${className.tutorialIntroBox}`).classList.add('show');\r\n            resolve();\r\n        });\r\n    };\r\n\r\n    /**\r\n     * 導覽內容移動至遮罩旁邊\r\n     */\r\n    const moveTutorialInfoBoxToMask = function(TmpIntroInfo, TmpIntroNode, TmpMaskNode){\r\n        return new Promise((resolve, reject) => {\r\n            if (TmpIntroInfo.element) {\r\n                /**\r\n                 * 取得視窗資訊\r\n                 */\r\n                const win = getWindowInfo();\r\n\r\n                /**\r\n                 * 取得遮罩位置資訊\r\n                 */\r\n                const MaskRect = getElementRect(TmpMaskNode);\r\n                MaskRect.top -= MaskRect.windowY;\r\n                MaskRect.left -= MaskRect.windowX;\r\n                MaskRect.bottom -= MaskRect.windowY;\r\n                MaskRect.right -= MaskRect.windowY;\r\n\r\n                /**\r\n                 * 取得資訊區塊位置資訊\r\n                 */\r\n                const IntroRect = getElementRect(TmpIntroNode);\r\n                IntroRect.top -= IntroRect.windowY;\r\n                IntroRect.left -= IntroRect.windowX;\r\n                IntroRect.bottom -= IntroRect.windowY;\r\n                IntroRect.right -= IntroRect.windowX;\r\n\r\n                /**\r\n                 * 計算遮罩與資訊區塊的相對位置\r\n                 */\r\n                const style = {};\r\n                const padding = 16;\r\n                let arrow_direction = 'center';\r\n                if (MaskRect.bottom + IntroRect.height + padding < win.h) {\r\n                    style.top = MaskRect.bottom + padding;\r\n                    style.left = MaskRect.left;\r\n                    arrow_direction = 'top';\r\n                } else if (MaskRect.top - IntroRect.height - padding > 0) {\r\n                    style.top = MaskRect.top - IntroRect.height - padding;\r\n                    style.left = MaskRect.left;\r\n                    arrow_direction = 'bottom';\r\n                } else {\r\n                    if (MaskRect.centerX > win.w / 2) {\r\n                        style.top = MaskRect.top;\r\n                        style.left = MaskRect.left - IntroRect.width - padding;\r\n                        arrow_direction = 'right';\r\n                    } else {\r\n                        style.top = MaskRect.top;\r\n                        style.left = MaskRect.left + MaskRect.width + padding;\r\n                        arrow_direction = 'left';\r\n                    }\r\n                }\r\n\r\n                /**\r\n                 * 移動到上座標 + 導覽資訊高度 + padding 太低超過螢幕的話，把導覽列資訊往上推\r\n                 */\r\n                if (style.top + IntroRect.height + padding > win.h) {\r\n                    style.top = win.h - IntroRect.height - padding;\r\n                }\r\n\r\n                /**\r\n                 * 移動到上座標 + padding 太高超過螢幕的話，把導覽列資訊往下推\r\n                 */\r\n                if (style.top < padding) {\r\n                    style.top = padding;\r\n                }\r\n\r\n                /**\r\n                 * 移動到左座標 + 導覽列寬度 + padding 太右超過螢幕的話，把導覽列往左推\r\n                 */\r\n                if (style.left + IntroRect.width + padding > win.w) {\r\n                    style.left = win.w - IntroRect.width - padding;\r\n                }\r\n\r\n                /**\r\n                 * 移動到左座標 + padding 太左超過螢幕的話，把導覽列往右推\r\n                 */\r\n                if (style.left < padding) {\r\n                    style.left = padding;\r\n                }\r\n\r\n                /**\r\n                 * 設定方向與座標\r\n                 */\r\n                TmpIntroNode.setAttribute('direction', arrow_direction);\r\n                TmpIntroNode.style.top = `${style.top}px`;\r\n                TmpIntroNode.style.left = `${style.left}px`;\r\n\r\n                /**\r\n                 * 重新取得導覽資訊位置資訊\r\n                 */\r\n                const IntroRectNew = getElementRect(TmpIntroNode);\r\n                IntroRectNew.top -= IntroRectNew.windowY;\r\n                IntroRectNew.bottom -= IntroRectNew.windowY;\r\n                IntroRectNew.left -= IntroRectNew.windowX;\r\n                IntroRectNew.right -= IntroRectNew.windowX;\r\n\r\n                /**\r\n                 * 計算箭頭相對\r\n                 */\r\n                const arrow_style = {};\r\n                const IntroNodeArrow = TmpIntroNode.querySelector(`.${className.tutorialIntroArrow}`);\r\n                /**\r\n                 * 分別 左右 與 上下 檢查\r\n                 */\r\n                if (['left', 'right'].includes(arrow_direction)) {\r\n                    /**\r\n                     * 移動至 遮罩垂直中心 - 導覽資訊頂點 - (箭頭高度 / 2)\r\n                     */\r\n                    arrow_style.top = MaskRect.centerY - IntroRectNew.top - (IntroNodeArrow.clientHeight / 2);\r\n                    /**\r\n                     * 檢查極限垂直，導覽資訊最底 - padding - (箭頭高度 / 2)\r\n                     */\r\n                    const limitTop = IntroRectNew.bottom - IntroRectNew.top - padding - (IntroNodeArrow.clientWidth * 2);\r\n                    if (arrow_style.top > limitTop) {\r\n                        arrow_style.top = limitTop;\r\n                    }\r\n                } else {\r\n                    /**\r\n                     * 移動至 遮罩水平中心 - 導覽資訊左頂 - (箭頭寬度 / 2)\r\n                     */\r\n                    arrow_style.left = MaskRect.centerX - IntroRectNew.left - (IntroNodeArrow.clientWidth / 2);\r\n                    /**\r\n                     * 檢查極限水平，導覽資訊左頂 - padding - (箭頭寬度 / 2)\r\n                     */\r\n                    const limitRight = IntroRectNew.right - IntroRectNew.left - padding - (IntroNodeArrow.clientWidth * 2);\r\n                    if (arrow_style.left > limitRight) {\r\n                        arrow_style.left = limitRight;\r\n                    }\r\n                }\r\n\r\n                /**\r\n                 * 設定座標\r\n                 */\r\n                for (const key in arrow_style) {\r\n                    IntroNodeArrow.style[key] = `${arrow_style[key]}px`;\r\n                }\r\n            } else {\r\n                /**\r\n                 * 導覽資訊置中\r\n                 */\r\n                TmpIntroNode.setAttribute('direction', 'center');\r\n            }\r\n\r\n            resolve();\r\n        });\r\n    };\r\n\r\n    /**\r\n     * 離開時需要做結束動作\r\n     */\r\n    const RunAfterActionPromise = function(){\r\n        if (LastIndex !== false) {\r\n            const TutorialNode = getTutorialNode();\r\n            const IntroInfo = stepsStorage[LastIndex];\r\n            const RunAllPromise = async function(){\r\n                await AfterActionPromise(IntroInfo, TutorialNode);\r\n            };\r\n            RunAllPromise();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * 顯示導覽要掛上的東西\r\n     */\r\n    const showTutorial = function(){\r\n        body.classList.add(className.bodyRelative);\r\n    };\r\n\r\n    /**\r\n     * 調整螢幕尺寸\r\n     */\r\n    const windowResize = function(){\r\n        clearTimeout(windowResizeTimer);\r\n        windowResizeTimer = setTimeout(() => {\r\n            that.run(LastIndex);\r\n        }, 50);\r\n    };\r\n\r\n    /**\r\n     * 關閉導覽時要啟動的東西\r\n     */\r\n    const closeTutorial = function(){\r\n        clearInterval(dwellTimeTimer);\r\n        clearTimeout(runTimer);\r\n        RunAfterActionPromise();\r\n        const TutorialNode = getTutorialNode();\r\n        if (!!TutorialNode && 1) {\r\n            TutorialNode.remove();\r\n        }\r\n        body.classList.remove(className.bodyRelative);\r\n\r\n        /**\r\n         * 移除 windowResize\r\n         */\r\n        window.removeEventListener('resize', windowResize, false);\r\n\r\n        /**\r\n         * 移除 鍵盤監聽\r\n         */\r\n        document.removeEventListener('keydown', globalKeyDown, false);\r\n\r\n        /**\r\n         * 結束 callback\r\n         */\r\n        if (typeof configStorage.closeCallback === 'function') {\r\n            configStorage.closeCallback(dwellTimeStorage, stepsStorage[LastIndex]);\r\n        }\r\n        LastIndex = false;\r\n        LastIntroInfo = false;\r\n    };\r\n\r\n    /**\r\n     * 執行導覽\r\n     */\r\n    this.run = function(keyword){\r\n        clearTimeout(runTimer);\r\n        /**\r\n         * 移除 resize 動作\r\n         */\r\n        window.removeEventListener('resize', windowResize, false);\r\n        document.removeEventListener('keydown', globalKeyDown, false);\r\n        runTimer = setTimeout(() => {\r\n            /**\r\n             * 建立 resize 動作\r\n             */\r\n            window.addEventListener('resize', windowResize, false);\r\n\r\n            /**\r\n             * 鍵盤事件建立\r\n             */\r\n\r\n            document.addEventListener('keydown', globalKeyDown, false);\r\n\r\n            /**\r\n             * 掛上啟動導覽\r\n             */\r\n            showTutorial();\r\n\r\n            /**\r\n             * 如果有上一次動作，先執行離開動作\r\n             */\r\n            if (LastIndex !== false) {\r\n                RunAfterActionPromise();\r\n            } else {\r\n                dwellTimeStorage = {};\r\n            }\r\n\r\n            /**\r\n             * 換算 keyword 成 index\r\n             */\r\n            let index = 0;\r\n            if (Number.isInteger(keyword)) {\r\n                index = keyword;\r\n            } else if (typeof keyword === 'string') {\r\n                index = stepsStorage.findIndex((item) => item.key === keyword);\r\n            }\r\n\r\n            /**\r\n             * 如果 index 不存在\r\n             */\r\n            if (index < 0 || stepsStorage.length <= index) {\r\n                index = 0;\r\n                console.log('查無導覽內容');\r\n            }\r\n\r\n            /**\r\n             * 嘗試取得導覽資訊\r\n             */\r\n            let IntroInfo = false;\r\n            if (!!stepsStorage[index] && 1) {\r\n                const { element,\r\n                    beforeAction,\r\n                    afterAction,\r\n                    waitToNextAction,\r\n                    clickAction,\r\n\r\n                    confirmAction,\r\n                    confirmText,\r\n                    cancelAction,\r\n                    cancelText,\r\n\r\n                    scrollTarget,\r\n\r\n                    key,\r\n                    target,\r\n                    title,\r\n                    intro } = stepsStorage[index];\r\n\r\n                IntroInfo = {\r\n                    element,\r\n                    beforeAction,\r\n                    afterAction,\r\n                    waitToNextAction,\r\n                    clickAction,\r\n\r\n                    confirmAction,\r\n                    confirmText,\r\n                    cancelAction,\r\n                    cancelText,\r\n\r\n                    scrollTarget,\r\n\r\n                    index,\r\n                    key,\r\n                    target,\r\n                    title,\r\n                    intro,\r\n                };\r\n\r\n                LastIntroInfo = IntroInfo;\r\n            }\r\n\r\n            /**\r\n             * 如果有此步驟導覽資訊\r\n             */\r\n            if (!!IntroInfo && 1) {\r\n                /**\r\n                 * 取得導覽 Node\r\n                 */\r\n                const TutorialNode = getTutorialNode();\r\n\r\n                /**\r\n                  * 取得遮罩 node\r\n                  */\r\n                const MaskNode = getMaskNode(TutorialNode);\r\n\r\n                /**\r\n                  * 取得導覽區塊 node\r\n                  */\r\n                const IntroNode = getIntroNode(TutorialNode);\r\n\r\n                /**\r\n                 * 檢查紀錄是否存在\r\n                 */\r\n                if (typeof dwellTimeStorage[IntroInfo.index] === 'undefined') {\r\n                    dwellTimeStorage[IntroInfo.index] = 0;\r\n                }\r\n\r\n                if (LastIndex === false) {\r\n                    /**\r\n                     * 如果有啟動 callback\r\n                     */\r\n                    if (typeof configStorage.startCallback === 'function') {\r\n                        configStorage.startCallback(TutorialNode, stepsStorage);\r\n                    }\r\n\r\n                    /**\r\n                     * 停留時間計算\r\n                     */\r\n                    dwellTimeTimer = setInterval(() => {\r\n                        if (LastIndex !== false) {\r\n                            dwellTimeStorage[LastIndex] += 1;\r\n                        }\r\n                    }, 1000);\r\n                }\r\n\r\n                /**\r\n                 * 設定成上一次執行步驟\r\n                 */\r\n                LastIndex = IntroInfo.index;\r\n\r\n                /**\r\n                 * 逐步執行\r\n                 */\r\n                const RunAllPromise = async function(){\r\n                    await beforeActionPromise(IntroInfo, TutorialNode);\r\n                    await setTutorialInfoBox(IntroInfo, IntroNode, MaskNode);\r\n                    await moveMaskToElementPromise(IntroInfo, TutorialNode, IntroNode, MaskNode);\r\n                    await moveTutorialInfoBoxToMask(IntroInfo, IntroNode, MaskNode);\r\n                };\r\n                RunAllPromise();\r\n\r\n                /**\r\n                 * 每一步的 callback\r\n                 */\r\n                if (typeof configStorage.step_callback === 'function') {\r\n                    configStorage.step_callback(TutorialNode, IntroInfo);\r\n                }\r\n            } else {\r\n                closeTutorial();\r\n            }\r\n        }, 100);\r\n    };\r\n\r\n    /**\r\n     * 關閉導覽\r\n     */\r\n    this.close = function(){\r\n        closeTutorial();\r\n    };\r\n\r\n    /**\r\n     * 設定 config\r\n     */\r\n    this.setConfig(config);\r\n\r\n    /**\r\n     * 設定步驟\r\n     */\r\n    this.setSteps(input_steps);\r\n\r\n    return this;\r\n}\r\n\r\nexport default Tutorial;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".bundle.js?v=\" + {\"45\":\"f6b80541c49ae032ae08\",\"95\":\"d07302c343b141a8b1fd\",\"152\":\"7900f3cb7eb09d5e1f81\",\"377\":\"2b8ce67685fb675e8ec6\",\"438\":\"a426eca3f8fb478529a9\",\"470\":\"84ad358e217d901901e0\",\"579\":\"be3f5e6f40d709c7bae5\",\"606\":\"00b6d1f43b33186d3753\",\"652\":\"4c789365a851000487d4\",\"656\":\"986d2e2c01b57fe61052\",\"842\":\"b60dbd715a7431b2946d\",\"921\":\"b5b5b5530744f8b6935a\"}[chunkId] + \"\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.j = 925;","__webpack_require__.p = \"dist/js/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t925: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunk\"] = self[\"webpackChunk\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\n__webpack_require__.O(undefined, [563,7], () => (__webpack_require__(4180)))\nvar __webpack_exports__ = __webpack_require__.O(undefined, [563,7], () => (__webpack_require__(2115)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","inProgress","common","adBlocked","favicon","default","run","award","luckyDrawFocusKey","luckyDrawIsRandom","luckyDrawChooseList","defaultConfig","boxWidth","boxHeight","boxMH","boxMV","titleSize","subtitleSize","defaultColor","focusColor","doneColor","webTitle","headerColor","backgroundImg","backgroundOpacity","defaultRunTime","isTutorial","config","candidateList","candidateList_sort","prizeList","focusCandidateSN","focusPrizeSN","haveAwardCandidateSN","getLuckyWaitTimeArr","limit","wait","triggerOpenCandidateList","triggerOpenPrizeList","triggerOpenGetLucky","triggerOpenLucky","triggerOpenResult","triggerOpenSetting","triggerOpenUpgradeData","randomCandidateNames","randomCandidatePos","randomPrize","randomColor","randomBgImg","randomConfig","setFavicon","state","key","document","querySelector","setAttribute","CheckAdBlock","data","initSystem","params","luckyDrawSetting","localStorage","get","luckyDrawStorage","luckyDrawKeyList","Object","keys","this","commit","length","upgradeLuckyDrawData","JSON","parse","stringify","shortlist","shortlist_sort","string","getRandomString","newPrizeList","prizeMapping","forEach","prize_title","prize_sn","push","title","amount","del","prizeCount","candidateMapping","shortInfo","sn","name","pos","new_sn","item","setLuckyDrawChooseList","createDefaultLuckyDraw","trackJS","mixpanel","LuckyDrawName","chooseLuckDrawFromStorage","listenLocalStorageChange","storage","LSData","NowData","removeLuckDrawFromStorage","set","saveToLocalStorage","setConfig","clearAllData","triggerModal","triggerKey","close","Date","getTime","setCandidateListInput","candidateListInput","candidateListInputObj","split","map","info","text","trim","matchName","filter","includes","setCandidateListRandomSort","candidateListSN","loopTime","candidateListSN_new","i","index","parseInt","Math","random","splice","setCandidateInfo","candidateInfo","candidateIndex","syncPrizeList","setFocusCandidateSN","setFocusPrizeSN","formatHaveAwardCandidateSN","ValidatePrizeSN","setFocusCandidateBindPrize","candidate_sn","focusIndex","createRandomLuckyDraw","getRandomCandidateName","randRange","getRandomPrize","getRandomColor","getRandomCandidatePos","replace","getRandomBgImg","CandidateCount","PrizeCount","setIsTutorial","bool","candidateListBySort","candidateListMapping","prizeListByAward","prizeListCount","candidate","prizeInfo","count","validCandidateListSN","luckySN","Vue","Vuex","debug","process","devtools","resizeImageTimer","$","on","clearTimeout","setTimeout","imgLiquid","origin","pathname","window","location","BASE_API_HOST","jsVars","store","actions","mutations","getters","tmpActions","actionsStorage","tmpState","stateStorage","tmpMutations","mutationsStorage","tmpGetters","gettersStorage","shift","undefined","indexOf","assign","struct","createStore","el","components","MainPage","input","computed","mapGetters","watch","mounted","methods","init","string_module","history_route_module","mixpanel_module","jsVars_module","popup_module","localStorage_module","linkRegister_module","trackJS_module","tutorial_module","popup","Tutorial","that","popstate_callback","callback","baseUrl","setLocation","setAction","timer","onpopstate","diffUrl","url","tmplink","createElement","href","link","search","substr","hash","diff","pushState","history","replaceState","jsVarsStorage","main","$key","$value","arguments","$merge","$newKey","$arrayKey","$arrayValue","_set","_deployJsVars","$defaultValue","getValue","_get","$array","$keys","$lastKey","linkVersionBlackList","getLinkHref","links","querySelectorAll","hrefArray","register","linkArray","Array","isArray","concat","style","existHrefArray","Link","linkObj","console","log","onload","dom","createHtmlTag","head","appendChild","urlTmp","ASSETS_HOST","RegExp","test","bind_version","hrefTmp","hostname","WEB_VER","a","getJsonFromUrl","v","WEB_VER_TIME","object2QueryStr","host","tag","obj","tagDom","callbackStorage","addEventListener","e","val","clear_PPOldData","merge","setItem","default_data","defaultData","getItem","removeItem","listen","regex","limitTime","len","update_time","Fingerprint2","result","identify","x64hash128","pair","value","join","actWaitFunc","tabId","waitFunc","actFunc","track","action","inputData","actionFunc","icon","html","footer","allowOutsideClick","showConfirmButton","showCloseButton","showCancelButton","confirmButtonText","cancelButtonText","didOpen","swal","executeSwal","msgObj","confirm","cancel","msgConfig","then","dismiss","success","warning","error","loading","confrim","object2QueryStr_func","prefix","sortObject_func","str","p","hasOwnProperty","k","encodeURIComponent","o","sorted","sort","getJsonFromUrl_func","queryString","part","eq","decodeURIComponent","from","newKey","to","substring","formatContent_url","$content","$match","_greatUrlEncode","$url","nl2br_func","is_xhtml","breakTag","deepDiffMapper","VALUE_CREATED","VALUE_UPDATED","VALUE_DELETED","VALUE_UNCHANGED","obj1","obj2","isFunction","isValue","type","compareValues","value2","value1","isDate","toString","apply","isObject","strLen","charAt","floor","possible","sortObject","formatMoney","num","keywordRemover","uri","formatContent","content","formatType","formatTypeKey","formatUrlByParams","urlPath","reg","oldUrlPath","getUrlFromContent","match","htmlEntityDecode","nl2br","formatSecond","secs","hr","min","sec","slice","isNaN","reverse","toSnakeCase","upperChars","n","toLowerCase","uuid","d","now","performance","c","r","carryFormatter","digits","si","symbol","toFixed","max","luckyDrawDebug","fbq","event","gtag","custom_class","offset","top","right","bottom","left","startCallback","closeCallback","step_callback","clickOuterClose","buttonLang","next","skip","iKnow","DefaultTutorialStep","target","intro","beforeAction","afterAction","waitToNextAction","clickAction","confirmAction","confirmText","cancelAction","cancelText","element","scrollTarget","input_steps","stepsStorage","configStorage","TutorialKey","LastIndex","LastIntroInfo","windowResizeTimer","runTimer","dwellTimeTimer","dwellTimeStorage","body","className","template","tutorial_box","tutorial_mask_box","tutorial_intro_box","tutorial_intro_pager","tutorial_intro_skip","tutorial_intro_prev","tutorial_intro_next","async","Promise","resolve","reject","linkRegister","rel","loadCss","isHidden","getComputedStyle","rect","getElementRect","display","visibility","width","height","mergeDeep","_len","sources","_key","source","_config_","setSteps","_input_steps_","format_steps","_data_","_index_","__step__","getElement","list","NodeItems","Node","prototype","isPrototypeOf","NodeList","tmp_format_steps","NodeItem","dataset","id","order","Number","isInteger","b","$window","getBoundingClientRect","scrollY","scrollX","windowY","windowX","centerX","centerY","getWindowInfo","innerHeight","innerWidth","w","h","stopPropagationClickFunc","stopPropagation","globalKeyDownTimer","globalKeyDown","code","NextClickFunc","PrevClickFunc","createNodeByTemplate","templateName","img","getTemplate","tmp","innerHTML","firstChild","getTutorialNode","node","tutorialKey","outerClassName","tutorialBox","append","classList","contains","RunNext","SkipClickFunc","TutorialOuterClickFunc","TargetAllowClickFunc","TutorialNode","RunAfterActionPromise","IntroInfo","TmpIntroInfo","TmpTutorialNode","RunAllPromise","windowResize","closeTutorial","clearInterval","remove","removeEventListener","keyword","add","findIndex","MaskNode","tutorialMask","getMaskNode","IntroNode","tutorialIntro","tutorialIntroBox","tutorialIntroWrapper","tutorialIntroArrow","tutorialIntroExit","tutorialIntroBoxTitle","tutorialIntroBoxContent","tutorialIntroBoxTools","tutorialIntroBoxToolsPager","tutorialIntroBoxToolsPagerCurrent","tutorialIntroBoxToolsPagerTotal","tutorialIntroBoxToolsSkip","tutorialIntroBoxToolsNext","getIntroNode","setInterval","TmpIntroNode","showInfo","removeAttribute","TmpIntroTools","ToolPager","CurrentNumber","TotalNumber","ToolPrev","tutorialIntroBoxToolsPrev","ToolNext","setTutorialInfoBox","TmpMaskNode","bodyH","offsetHeight","win","introRect","move","tooBottom","scroll","windowMoveToElement","moveMaskToElementPromise","MaskRect","IntroRect","padding","arrow_direction","IntroRectNew","arrow_style","IntroNodeArrow","clientHeight","limitTop","clientWidth","limitRight","moveTutorialInfoBoxToMask","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","getter","__esModule","definition","defineProperty","enumerable","f","chunkId","all","reduce","promises","u","g","globalThis","Function","prop","l","done","script","needAttach","scripts","getElementsByTagName","s","getAttribute","charset","timeout","nc","src","onScriptComplete","prev","onerror","doneFns","parentNode","removeChild","bind","Symbol","toStringTag","installedChunks","installedChunkData","promise","Error","errorType","realSrc","message","request","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}